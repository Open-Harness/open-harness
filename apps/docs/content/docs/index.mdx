---
title: Open Harness
description: Build and test multi-agent AI systems with fixtures and metrics
---

# Open Harness

Open Harness is a TypeScript framework for building **production-ready multi-agent AI systems** with built-in testing, metrics, and fixture recording.

## Why Open Harness?

| Problem | Solution |
|---------|----------|
| LLM calls are expensive to test | **Fixtures**: Record once, replay forever (free, instant) |
| Agent outputs are unpredictable | **Deterministic replay**: Same fixture = same output |
| No visibility into agent performance | **Metrics**: Latency, cost, and token usage on every run |
| Multi-agent coordination is complex | **Harness**: Compose agents with typed edges and shared state |

## Quick Example

```typescript
import { agent, harness, run } from "@open-harness/core";

// Define agents
const specAgent = agent({
  prompt: "Break down PRDs into actionable tasks with acceptance criteria.",
});

const coderAgent = agent({
  prompt: "Implement tasks. Include self-validation of your work.",
});

const reviewerAgent = agent({
  prompt: "Review code against acceptance criteria. APPROVE or REJECT.",
});

// Compose into a harness
const specKit = harness({
  agents: { spec: specAgent, coder: coderAgent, reviewer: reviewerAgent },
  edges: [
    { from: "spec", to: "coder" },
    { from: "coder", to: "reviewer" },
  ],
});

// Run with metrics
const result = await run(specKit, { prompt: "PRD: Build a login form" });

console.log(result.output);           // Reviewer's verdict
console.log(result.metrics.latencyMs); // Total time
console.log(result.metrics.cost);      // Total cost across all agents
```

## Core Concepts

| Concept | Description |
|---------|-------------|
| **Agent** | Single LLM-powered unit with a system prompt and optional state |
| **Harness** | Composition of agents with edges defining execution order |
| **Fixture** | Recorded LLM response for deterministic replay in tests |
| **Metrics** | Automatic tracking of latency, cost, and tokens for every run |

## Learning Path

| Day | Topic | What You Learn |
|-----|-------|----------------|
| 1 | [Quickstart](/docs/learn/quickstart) | `agent()` + `run()` basics |
| 2 | [SpecKit Level 1-2](/docs/learn/speckit-tutorial) | State and fixtures |
| 3 | [SpecKit Level 3-4](/docs/learn/speckit-tutorial#level-3-self-validation) | Self-validation and multi-agent |
| 4 | [SpecKit Level 5-6](/docs/learn/speckit-tutorial#level-5-full-3-agent-system) | Full pipelines and advanced fixtures |
| 5 | [SpecKit Level 7](/docs/learn/speckit-tutorial#level-7-ci-quality-gates) | CI quality gates |

## Get Started

<Cards>
  <Card title="Quickstart" href="/docs/learn/quickstart">
    Build your first agent in 5 minutes
  </Card>
  <Card title="SpecKit Tutorial" href="/docs/learn/speckit-tutorial">
    7-level progressive tutorial
  </Card>
  <Card title="Architecture" href="/docs/concepts/architecture">
    Understand how Open Harness works
  </Card>
  <Card title="API Reference" href="/docs/reference">
    Explore the complete API
  </Card>
</Cards>
