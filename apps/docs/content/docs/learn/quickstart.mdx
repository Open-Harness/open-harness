---
title: Quickstart
description: Run your first Open Harness flow in 5 minutes
---

# Quickstart

Build your first multi-agent workflow. In five minutes, you'll see how Open Harness orchestrates agents through flows.

## What You'll Build

A flow with two nodes connected by an edge:

```
┌──────────────┐        ┌──────────────┐
│   template   │───────▶│    agent     │
│   (format)   │  edge  │   (Claude)   │
└──────────────┘        └──────────────┘
```

## Step 1: Create Project

```bash
mkdir my-first-flow && cd my-first-flow
bun init -y
bun add @open-harness/sdk
```

## Step 2: Create Your Flow

Create `flow.yaml`:

```yaml
flow:
  name: greeting-flow
  version: "1.0"
  input:
    name:
      type: string
    style:
      type: string
      default: "friendly"

nodes:
  - id: template
    type: template
    input:
      template: |
        Write a {{ flow.input.style }} greeting for {{ flow.input.name }}.
        Keep it brief (1-2 sentences).

  - id: greet
    type: claude.agent
    input:
      prompt: "{{ template.output }}"

edges:
  - from: template
    to: greet
```

This flow:
- Declares two inputs: `name` (required) and `style` (defaults to "friendly")
- Has a **template node** that constructs the prompt
- Has an **agent node** that calls Claude
- Uses an **edge** to ensure template runs before agent
- Uses `{{ template.output }}` to pass data between nodes

## Step 3: Run It

Create `run.ts`:

```typescript
import {
  createRuntime,
  parseFlowYaml,
  DefaultNodeRegistry,
  claudeNode,
} from "@open-harness/sdk";
import { readFileSync } from "fs";
import { z } from "zod";

// Load and parse the flow
const yaml = readFileSync("flow.yaml", "utf-8");
const flow = parseFlowYaml(yaml);

// Create registry with node types
const registry = new DefaultNodeRegistry();

// Register built-in Claude node
registry.register(claudeNode);

// Register custom template node
registry.register({
  type: "template",
  inputSchema: z.object({ template: z.string() }),
  outputSchema: z.object({ output: z.string() }),
  run: async (_ctx, input) => ({ output: input.template }),
});

// Create runtime
const runtime = createRuntime({
  flow,
  registry,
});

// Subscribe to agent text events
runtime.onEvent((event) => {
  if (event.type === "agent:text:delta") {
    process.stdout.write(event.delta);
  }
});

// Execute the flow
const snapshot = await runtime.run({
  name: "World",
  style: "enthusiastic",
});

console.log("\n\nFlow complete!");
console.log("Output:", snapshot.outputs);
```

Run it:

```bash
bun run run.ts
```

## What Just Happened?

1. **Defined a multi-node flow** with template → agent orchestration
2. **Used edges** to control execution order
3. **Used JSONata bindings** (`{{ template.output }}`) to pass data
4. **Observed events** through `runtime.onEvent()` as the flow ran
5. **Used the built-in `claudeNode`** for Claude AI integration

## Next Steps

- [Your First Agent](/docs/learn/your-first-agent) — Build a custom agent
- [Architecture](/docs/concepts/architecture) — Understand Hub, Flow, Channels
- [JSONata Bindings](/docs/guides/expressions/bindings) — Master expressions
