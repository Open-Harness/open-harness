---
title: NodeDefinition
description: Node definition type reference
---

# NodeDefinition

The structure of a node within a flow.

## Type

```typescript
interface NodeDefinition {
  id: string;
  type: string;
  input?: Record<string, unknown>;
  config?: Record<string, unknown>;
}
```

## Properties

### id

Unique identifier within the flow:

```yaml
- id: greet
```

Must be unique among all nodes in the flow. Used to reference node outputs:

```yaml
{{ nodes.greet.output.text }}
```

### type

The registered node type:

```yaml
- id: assistant
  type: claude.agent
```

Built-in types:
- `claude.agent` — Claude AI agent
- `http.get` — HTTP GET request
- `http.post` — HTTP POST request
- `map` — Parallel array processing
- `delay` — Wait for duration

### input

Input bindings for the node:

```yaml
- id: assistant
  type: claude.agent
  input:
    prompt: "Hello, {{ flow.input.name }}!"
    system: "You are a helpful assistant."
```

Values can be:
- Static values
- JSONata expressions (in `{{ }}`)
- Nested objects

### config

Node-specific configuration:

```yaml
- id: assistant
  type: claude.agent
  input:
    prompt: "Hello"
  config:
    model: "claude-sonnet-4-20250514"
    maxTokens: 4096
    temperature: 0.7
```

## Examples

### Simple Node

```yaml
- id: greet
  type: claude.agent
  input:
    prompt: "Say hello to the user"
```

### Node with References

```yaml
- id: summarize
  type: claude.agent
  input:
    text: "{{ nodes.fetch.output.content }}"
    prompt: "Summarize this text"
```

### Node with Config

```yaml
- id: api-call
  type: http.post
  input:
    url: "https://api.example.com/data"
    body: "{{ flow.input.data }}"
  config:
    headers:
      Authorization: "Bearer {{ $env.API_KEY }}"
    timeout: 30000
```

## See Also

- [FlowDefinition](/docs/reference/types/flow-definition) — Flow structure
- [Node Registry API](/docs/reference/api/node-registry) — Registering nodes
