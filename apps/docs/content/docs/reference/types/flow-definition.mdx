---
title: FlowDefinition
description: Flow definition type reference
---

# FlowDefinition

The structure of a flow definition.

## Type

```typescript
interface FlowDefinition {
  name: string;
  description?: string;
  nodes: NodeDefinition[];
  edges?: EdgeDefinition[];
  state?: { initial: Record<string, unknown> };
}
```

## Properties

### name

Unique identifier for the flow:

```yaml
name: greeting-flow
```

### description

Flow description (optional):

```yaml
description: Greets users by name
```

### nodes

Array of node definitions:

```yaml
nodes:
  - id: greet
    type: claude.agent
    input:
      prompt: "Say hello"
```

### edges

Connections between nodes (optional, inferred from data dependencies):

```yaml
edges:
  - from: classify
    to: handle-bug
    when: "$contains(classify.text, 'bug')"
```

### state

Initial state values for the flow:

```yaml
state:
  initial:
    count: 0
    items: []
```

Access state in nodes with `ctx.state.get()` and `ctx.state.set()`.

## YAML Format

Flows are typically defined in YAML:

```yaml
name: code-review
description: Reviews code changes

nodes:
  - id: analyze
    type: claude.agent
    input:
      prompt: "Analyze this code: {{ flow.input.code }}"

  - id: summarize
    type: claude.agent
    input:
      analysis: "{{ analyze.text }}"
      prompt: "Summarize the analysis"

edges:
  - from: analyze
    to: summarize
```

## See Also

- [NodeDefinition](/docs/reference/types/node-definition) — Node structure
- [EdgeDefinition](/docs/reference/types/edge-definition) — Edge structure
- [Flow YAML Schema](/docs/reference/schemas/flow-yaml) — YAML schema

