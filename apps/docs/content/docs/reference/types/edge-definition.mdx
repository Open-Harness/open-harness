---
title: EdgeDefinition
description: Edge definition type reference
---

# EdgeDefinition

Edges define connections between nodes.

## Type

```typescript
interface EdgeDefinition {
  from: string;
  to: string;
  when?: string;
}
```

## Properties

### from

Source node ID:

```yaml
edges:
  - from: classify
    to: handle
```

### to

Target node ID:

```yaml
edges:
  - from: classify
    to: handle
```

### when

Optional JSONata expression. Edge is followed only if expression evaluates to true:

```yaml
edges:
  - from: classify
    to: handle-bug
    when: "$contains(classify.text, 'bug')"

  - from: classify
    to: handle-feature
    when: "$contains(classify.text, 'feature')"
```

## Implicit vs Explicit Edges

### Implicit Edges

Edges are inferred from data dependencies:

```yaml
nodes:
  - id: fetch
    type: claude.agent
    input:
      prompt: "Fetch the data"

  - id: process
    type: claude.agent
    input:
      # This reference creates an implicit edge from fetch to process
      data: "{{ fetch.text }}"
```

### Explicit Edges

Define edges explicitly for:
- Conditional branching
- Controlling execution order
- Documentation clarity

```yaml
nodes:
  - id: step1
    type: claude.agent
    input:
      prompt: "Step 1"

  - id: step2
    type: claude.agent
    input:
      prompt: "Step 2"

edges:
  - from: step1
    to: step2
```

## Branching Patterns

### Exclusive Branch

Only one path taken based on condition:

```yaml
edges:
  - from: router
    to: path-a
    when: "$contains(router.text, 'A')"

  - from: router
    to: path-b
    when: "$contains(router.text, 'B')"
```

### Parallel Branch

Multiple paths (no conditions):

```yaml
edges:
  - from: start
    to: task-1
  - from: start
    to: task-2
  - from: start
    to: task-3
```

### Convergence

Multiple paths joining:

```yaml
edges:
  - from: task-1
    to: collect
  - from: task-2
    to: collect
  - from: task-3
    to: collect
```

## See Also

- [FlowDefinition](/docs/reference/types/flow-definition) — Flow structure
- [Control Flow Guide](/docs/guides/flows/control-flow) — Flow patterns

