---
title: Flow-UI Components
description: React components for visual flow editing
---

# Components

All components are exported from `@open-harness/flow-ui`.

## FlowCanvas

The main canvas component built on ReactFlow. Handles node/edge rendering, drag-and-drop, and user interactions.

### Props

```typescript
interface FlowCanvasProps {
  /** Flow nodes */
  nodes: FlowNode[];
  /** Flow edges */
  edges: FlowEdge[];
  /** Node change handler */
  onNodesChange: OnNodesChange<FlowNode>;
  /** Edge change handler */
  onEdgesChange: OnEdgesChange<FlowEdge>;
  /** Connection handler */
  onConnect: OnConnect;
  /** Callback when node is dropped from palette */
  onNodeDrop?: (nodeType: NodeTypeMetadata, position: { x: number; y: number }) => void;
}
```

### Usage

```tsx
import { FlowCanvas, useFlowState } from "@open-harness/flow-ui";

function Editor() {
  const { nodes, edges, onNodesChange, onEdgesChange, onConnect, addNode } = useFlowState();

  return (
    <FlowCanvas
      nodes={nodes}
      edges={edges}
      onNodesChange={onNodesChange}
      onEdgesChange={onEdgesChange}
      onConnect={onConnect}
      onNodeDrop={(nodeType, position) => addNode(nodeType, position)}
    />
  );
}
```

### Features

- **Drag & Drop**: Drop nodes from the palette onto the canvas
- **Pan & Zoom**: Navigate large flows with mouse/trackpad
- **Mini Map**: Overview navigation in bottom-right corner
- **Controls**: Zoom controls in bottom-left corner
- **Grid Background**: Visual alignment guides

---

## CustomNode

Renders individual nodes with type-specific styling and execution state indicators.

### Props

```typescript
interface CustomNodeProps {
  data: FlowNodeData;
  selected?: boolean;
}

interface FlowNodeData {
  label: string;
  nodeType: string;
  executionState?: NodeExecutionState;
  input?: Record<string, unknown>;
  output?: Record<string, unknown>;
}
```

### Execution States

| State | Visual |
|-------|--------|
| `idle` | Default styling |
| `running` | Pulsing border animation |
| `success` | Green border |
| `error` | Red border with error icon |
| `skipped` | Gray, dimmed |

### Usage

CustomNode is automatically used by FlowCanvas. You don't instantiate it directly.

---

## NodePalette

Displays available node types from the registry. Nodes can be dragged onto the canvas.

### Props

```typescript
interface NodePaletteProps {
  /** Available node types from registry */
  nodeTypes: NodeTypeMetadata[];
}
```

### Node Type Metadata

```typescript
interface NodeTypeMetadata {
  type: string;
  metadata?: {
    displayName?: string;
    description?: string;
    category?: string;
    icon?: string;
  };
}
```

### Usage

```tsx
import { NodePalette } from "@open-harness/flow-ui";

const nodeTypes = [
  { type: "prompt", metadata: { displayName: "Prompt", category: "core" } },
  { type: "agent", metadata: { displayName: "Agent", category: "agents" } },
  { type: "condition", metadata: { displayName: "Condition", category: "flow" } },
];

<NodePalette nodeTypes={nodeTypes} />
```

### Default Icons

| Category | Icon |
|----------|------|
| core | âš™ï¸ |
| agents | ðŸ¤– |
| tools | ðŸ”§ |
| flow | ðŸ”€ |
| io | ðŸ“¡ |

---

## Toolbar

Flow control buttons for common actions.

### Props

```typescript
interface ToolbarProps {
  /** Run flow handler */
  onRun?: () => void;
  /** Stop flow handler */
  onStop?: () => void;
  /** Clear canvas handler */
  onClear?: () => void;
  /** Save flow handler */
  onSave?: () => void;
  /** Load flow handler */
  onLoad?: () => void;
  /** Whether flow is running */
  isRunning?: boolean;
}
```

### Usage

```tsx
import { Toolbar } from "@open-harness/flow-ui";

<Toolbar
  onRun={() => sendCommand({ type: "execute" })}
  onStop={() => sendCommand({ type: "abort" })}
  onClear={() => clearFlow()}
  isRunning={isExecuting}
/>
```

---

## EventLog

Real-time event viewer showing hub events during execution.

### Props

```typescript
interface EventLogProps {
  /** Events to display */
  events?: HubEvent[];
  /** Maximum events to show */
  maxEvents?: number;
  /** Filter by event type pattern */
  filter?: string;
}
```

### Usage

```tsx
import { EventLog } from "@open-harness/flow-ui";

<EventLog
  events={hubEvents}
  maxEvents={100}
  filter="agent:*"
/>
```

### Event Types Displayed

- `node:start` / `node:complete` / `node:error`
- `agent:text` / `agent:thinking`
- `flow:start` / `flow:complete`

---

## ConnectionStatus

Visual indicator for WebSocket connection state.

### Props

```typescript
interface ConnectionStatusProps {
  /** Current connection status */
  status: "connecting" | "connected" | "disconnected" | "error";
  /** Optional status message */
  message?: string;
}
```

### Usage

```tsx
import { ConnectionStatus, useWebSocket } from "@open-harness/flow-ui";

function StatusIndicator() {
  const { status } = useWebSocket("ws://localhost:3001");
  return <ConnectionStatus status={status} />;
}
```

### Visual States

| Status | Display |
|--------|---------|
| `connecting` | Yellow, pulsing |
| `connected` | Green, solid |
| `disconnected` | Gray |
| `error` | Red |
