---
title: Flow-UI Reference
description: Visual flow editor and execution monitor using ReactFlow
---

# Flow-UI

The `@open-harness/flow-ui` package provides a visual flow editor built on ReactFlow. It enables drag-and-drop flow construction, real-time execution monitoring, and WebSocket-based communication with the kernel.

## Installation

```bash
bun add @open-harness/flow-ui
```

## Quick Start

```tsx
import {
  FlowCanvas,
  NodePalette,
  Toolbar,
  EventLog,
  ConnectionStatus,
  useFlowState,
  useWebSocket,
} from "@open-harness/flow-ui";

function FlowEditor() {
  const {
    nodes,
    edges,
    onNodesChange,
    onEdgesChange,
    onConnect,
    addNode,
  } = useFlowState();

  const { status, sendCommand } = useWebSocket("ws://localhost:3001");

  return (
    <div className="flow-editor">
      <Toolbar onRun={() => sendCommand({ type: "execute" })} />
      <ConnectionStatus status={status} />
      <NodePalette nodeTypes={[...]} />
      <FlowCanvas
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        onConnect={onConnect}
        onNodeDrop={(nodeType, position) => addNode(nodeType, position)}
      />
      <EventLog />
    </div>
  );
}
```

## Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                        Flow-UI                               │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐  ┌────────────────┐            │
│  │ Toolbar  │  │NodePalette│  │ConnectionStatus│            │
│  └──────────┘  └──────────┘  └────────────────┘            │
│                                                              │
│  ┌──────────────────────────────────────────────────────┐   │
│  │                    FlowCanvas                         │   │
│  │  ┌──────────┐       ┌──────────┐                     │   │
│  │  │CustomNode│──────▶│CustomNode│                     │   │
│  │  └──────────┘       └──────────┘                     │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
│  ┌──────────────────────────────────────────────────────┐   │
│  │                     EventLog                          │   │
│  └──────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  Hooks: useFlowState, useWebSocket                          │
└─────────────────────────────────────────────────────────────┘
         │
         │ WebSocket
         ▼
┌─────────────────┐
│  Kernel Server  │
└─────────────────┘
```

## Exports

### Components

| Component | Description |
|-----------|-------------|
| [`FlowCanvas`](/docs/reference/flow-ui/components#flowcanvas) | ReactFlow-based canvas for flow visualization |
| [`CustomNode`](/docs/reference/flow-ui/components#customnode) | Node renderer with execution state |
| [`NodePalette`](/docs/reference/flow-ui/components#nodepalette) | Draggable node type picker |
| [`Toolbar`](/docs/reference/flow-ui/components#toolbar) | Flow control buttons |
| [`EventLog`](/docs/reference/flow-ui/components#eventlog) | Real-time event viewer |
| [`ConnectionStatus`](/docs/reference/flow-ui/components#connectionstatus) | WebSocket connection indicator |

### Hooks

| Hook | Description |
|------|-------------|
| [`useFlowState`](/docs/reference/flow-ui/hooks#useflowstate) | Flow nodes/edges state management |
| [`useWebSocket`](/docs/reference/flow-ui/hooks#usewebsocket) | WebSocket connection to kernel |

### Types

| Type | Description |
|------|-------------|
| `FlowNode` | Node data structure |
| `FlowEdge` | Edge data structure |
| `FlowDefinition` | Complete flow definition |
| `NodeTypeMetadata` | Node type registry entry |
| `HubEvent` | Event from kernel hub |
| `WSCommand` | Command sent to server |
| `WSMessage` | Message received from server |

## See Also

- [Components Reference](/docs/reference/flow-ui/components)
- [Hooks Reference](/docs/reference/flow-ui/hooks)
- [Getting Started](/docs/reference/flow-ui/getting-started)
