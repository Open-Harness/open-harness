---
title: Claude SDK Provider
description: Anthropic Claude integration via Agent SDK
---

# Claude SDK Provider

The Claude SDK provider integrates with Anthropic's Claude models using the official `@anthropic-ai/claude-agent-sdk`.

## Authentication

The SDK uses Claude Code subscription authentication. **No API key is needed.**

```bash
# Just run - auth is automatic via Claude Code subscription
bun run my-flow.ts
```

> **Important**: Do not set `ANTHROPIC_API_KEY`. The SDK handles auth through the Claude Code subscription.

## Agent Node Usage

```yaml
nodes:
  - id: research
    type: agent.claude
    input:
      prompt: "Research the topic: {{flow.input.topic}}"
    config:
      model: claude-sonnet-4-20250514
      maxTurns: 5
```

## Configuration

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `model` | string | `claude-sonnet-4-20250514` | Model to use |
| `maxTurns` | number | `1` | Maximum conversation turns |
| `tools` | Tool[] | `[]` | Available tools |
| `systemPrompt` | string | - | System prompt override |

## Events Emitted

| Event | When |
|-------|------|
| `agent:start` | Agent begins execution |
| `agent:text` | Streaming text output |
| `agent:tool:start` | Tool call begins |
| `agent:tool:complete` | Tool call completes |
| `agent:complete` | Agent finishes |

## Session Communication

Inject messages to running agents via Hub:

```typescript
// Send to specific run
hub.sendToRun(runId, "Please focus on recent data");

// Agent receives as session:message event
```

## Multi-Turn Agents

For interactive agents with multiple turns:

```yaml
nodes:
  - id: interactive-agent
    type: agent.claude
    input:
      prompt: "Help the user with their task"
    config:
      maxTurns: 10
```

The agent continues until:
- `maxTurns` is reached
- Agent decides to stop
- Session is aborted

## Related

- [Agent Nodes](/docs/reference/nodes/agent) - Agent node reference
- [Session Messages](/docs/concepts/hub/session-messages) - Hub communication
- [Execution Model](/docs/concepts/agents/execution-model) - Agent execution
