---
title: Agent Nodes
description: AI agent execution nodes for LLM-powered workflows
---

# Agent Nodes

Agent nodes execute AI models and handle LLM interactions within flows.

## Available Agent Nodes

| Node | Status | Description |
|------|--------|-------------|
| [`agent.claude`](/docs/reference/nodes/agent/claude) | Implemented | Claude SDK integration |
| [`agent.prompt`](/docs/reference/nodes/agent/prompt) | Implemented | Template-based prompting |

## Key Features

All agent nodes:

- Emit `agent:start`, `agent:text`, `agent:tool:*`, `agent:complete` events
- Receive a unique `runId` per invocation
- Can receive injected messages via `hub.sendToRun(runId, message)`
- Support streaming text output

## Example

```yaml
nodes:
  - id: analyze
    type: agent.claude
    input:
      prompt: "Analyze this data: {{flow.input.data}}"
    config:
      model: claude-sonnet-4-20250514
      maxTurns: 1
```

## Session Communication

Agents don't use a dedicated inbox. Instead, they subscribe to Hub events:

```typescript
// Send message to a running agent
hub.sendToRun(runId, "Please focus on recent data");

// Agent receives via session:message event
hub.subscribe("session:message", (event) => {
  if (event.runId === myRunId) {
    // Handle injected message
  }
});
```

## Related

- [Execution Model](/docs/concepts/agents/execution-model) - How agents execute
- [Session Messages](/docs/concepts/hub/session-messages) - Hub-based communication
