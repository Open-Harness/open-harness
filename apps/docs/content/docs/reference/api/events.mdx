---
title: Events
description: Runtime event types and structure
---

# Events

Runtime execution is observable through typed events.

## RuntimeEvent Shape

```typescript
type RuntimeEvent = RuntimeEventPayload & { timestamp: number };
```

## Flow Events

```typescript
{ type: "flow:start", flowName: "greeting" }
{ type: "flow:complete", flowName: "greeting", status: "complete" }
{ type: "flow:paused" }
{ type: "flow:resumed" }
{ type: "flow:aborted" }
```

## Node Events

```typescript
{ type: "node:start", nodeId: "echo", runId: "run-123" }
{ type: "node:complete", nodeId: "echo", runId: "run-123", output: { text: "Hi" } }
{ type: "node:error", nodeId: "echo", runId: "run-123", error: "timeout" }
{ type: "node:skipped", nodeId: "audit", reason: "when" }
```

## Edge Events

```typescript
{ type: "edge:fire", edgeId: "a->b", from: "a", to: "b" }
{ type: "loop:iterate", edgeId: "loop-edge", iteration: 2 }
```

## State Events

```typescript
{ type: "state:patch", patch: { op: "set", path: "runs", value: 2 } }
```

## Command Events

```typescript
{ type: "command:received", command: { type: "send", runId: "run-123", message: "hi" } }
```

## Agent Events

```typescript
{ type: "agent:start", nodeId: "claude", runId: "run-123", sessionId: "session-1", prompt: "..." }
{ type: "agent:thinking", nodeId: "claude", runId: "run-123", content: "..." }
{ type: "agent:thinking:delta", nodeId: "claude", runId: "run-123", content: "..." }
{ type: "agent:text", nodeId: "claude", runId: "run-123", content: "Hello" }
{ type: "agent:text:delta", nodeId: "claude", runId: "run-123", content: "Hel" }
{ type: "agent:tool", nodeId: "claude", runId: "run-123", toolName: "search", toolInput: {}, toolOutput: {} }
{ type: "agent:error", nodeId: "claude", runId: "run-123", errorType: "api", message: "Rate limited" }
{ type: "agent:complete", nodeId: "claude", runId: "run-123", result: "Done", usage: { inputTokens: 10, outputTokens: 20 }, durationMs: 1200, numTurns: 1 }
{ type: "agent:paused", nodeId: "claude", runId: "run-123", sessionId: "session-1" }
{ type: "agent:aborted", nodeId: "claude", runId: "run-123", reason: "user_cancelled" }
```

## Subscribing to Events

```typescript
runtime.onEvent((event) => {
  if (event.type === "node:error") {
    console.error(event.error);
  }
});
```

## See Also

- [RuntimeEvent Type](/docs/reference/types/runtime-event) — Full type definition
- [Runtime API](/docs/reference/api/hub) — Event emission
