---
title: Transport API
description: Runtime transports and WebSocket adapter
---

# Transport API

Transports connect runtimes to external systems.

## Transport Interface

```typescript
interface Transport {
  start(): Promise<void>;
  stop(): Promise<void>;
}
```

## WebSocketTransport

The SDK includes a Bun-based WebSocket transport:

```typescript
import { WebSocketTransport } from "@open-harness/server";

const transport = new WebSocketTransport(runtime, {
  port: 8080,
  path: "/ws",
});

await transport.start();
```

### WebSocketTransportOptions

```typescript
interface WebSocketTransportOptions {
  port: number;
  path?: string;
}
```

### Client Protocol

Clients send commands and receive events as JSON:

```json
{ "type": "command", "command": { "type": "send", "runId": "run-123", "message": "hi" } }
```

```json
{ "type": "event", "event": { "type": "node:complete", "nodeId": "echo", "runId": "run-123", "output": { "text": "Hi" }, "timestamp": 1710000000000 } }
```

## See Also

- [Events API](/docs/reference/api/events) — Event payloads
- [Runtime API](/docs/reference/api/runtime) — Runtime usage
