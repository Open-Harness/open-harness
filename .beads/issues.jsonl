{"id":"open-harness-05q","title":"E3.4: Server - @internal/server Result API Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/server: Test Result API.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:37.222234Z","updated_at":"2026-01-07T11:18:37.222234Z"}
{"id":"open-harness-05r","title":"Complete beads-workflows skill reference documentation","description":"Create 5 remaining reference files from completed research.\n\nResearch is DONE - just needs formatting into markdown files.\n\nFiles to create:\n1. reference/bonds.md (HIGH priority)\n2. reference/formulas.md (HIGH priority)  \n3. reference/variables.md (MEDIUM priority)\n4. reference/distills.md (replace placeholder)\n5. reference/steps.md (MEDIUM priority)\n\nAll agent research available in conversation history.\nSee HANDOFF.md for complete instructions.\n\nAgent IDs:\n- Bonds: a539d5c\n- Formulas: a3dfa13\n- Variables: a7c0c1c\n- Distills: aa3723b\n- Steps: ab245e8\n\nEstimated: 30-45 min (copy-paste + format)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:34:14.129267Z","updated_at":"2026-01-05T09:56:06.274437Z","closed_at":"2026-01-05T09:56:06.274437Z","dependencies":[{"issue_id":"open-harness-05r","depends_on_id":"open-harness-awq","type":"parent-child","created_at":"2026-01-05T09:57:01.89485Z","created_by":"abuusama"}]}
{"id":"open-harness-0a9","title":"Implement OpenCode provider trait","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:47:42.907814Z","updated_at":"2026-01-07T17:47:42.907814Z","comments":[{"id":20,"issue_id":"open-harness-0a9","author":"abuusama","text":"Spec: specs/providers/opencode-prompt.md (use base-context.md). Implement provider trait in packages/providers/opencode, map events to StreamEvent, support sessionId, streaming, abort, real SDK integration tests + fixture recording per policy.","created_at":"2026-01-07T17:47:51Z"}]}
{"id":"open-harness-14b","title":"E3.10: Server - @open-harness/server Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/server: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.434196Z","updated_at":"2026-01-07T11:18:38.434196Z"}
{"id":"open-harness-1dg","title":"E3.3: Server - @internal/server Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/server: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:37.032509Z","updated_at":"2026-01-07T11:18:37.032509Z"}
{"id":"open-harness-1hq","title":"Pattern: Structured output driving conditions","description":"Test/example: Validator with retry. Proves structuredOutput.field access and when clause evaluation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:25:27.297584Z","updated_at":"2026-01-04T20:47:45.226314Z","closed_at":"2026-01-04T19:55:37.772118Z","dependencies":[{"issue_id":"open-harness-1hq","depends_on_id":"open-harness-ox5","type":"blocks","created_at":"2026-01-04T19:25:45.497502Z","created_by":"abuusama"}]}
{"id":"open-harness-1tw","title":"Pattern: Multi-node data flow","description":"Test/example: Research â†’ Summarize â†’ Write. Proves basic {{ nodeId.text }} passing works.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:25:23.089405Z","updated_at":"2026-01-04T20:47:45.223825Z","closed_at":"2026-01-04T19:55:35.751645Z","dependencies":[{"issue_id":"open-harness-1tw","depends_on_id":"open-harness-ox5","type":"blocks","created_at":"2026-01-04T19:25:45.318611Z","created_by":"abuusama"}]}
{"id":"open-harness-1wp","title":"Design contributor workflow with beads + Linear integration","description":"Design and document the authoritative contributor workflow for Open Harness.\n\n## Scope\n- How humans and agents collaborate (Linear for humans, beads for agents)\n- Worktree workflow with beads\n- Scripts that wrap expected behaviors\n- PR and review process\n- Sync between Linear and beads\n\n## Deliverables\n- specs/workflows/contributor-workflow.md (design doc)\n- CONTRIBUTING.md (public-facing guide)\n- scripts/ (any wrapper scripts needed)\n\n## Process\nInteractive design session with user to gather requirements and preferences.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:53:31.181332Z","updated_at":"2026-01-05T08:15:18.543457Z","closed_at":"2026-01-05T08:15:18.543457Z"}
{"id":"open-harness-2g0","title":"E3.8: Server - @open-harness/server Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/server: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.038381Z","updated_at":"2026-01-07T11:18:38.038381Z"}
{"id":"open-harness-2t4","title":"Add GitHub issue and PR templates","description":"Create templates for consistent issue/PR formatting.\n\n## Templates\n- [ ] .github/ISSUE_TEMPLATE/bug_report.md\n- [ ] .github/ISSUE_TEMPLATE/feature_request.md\n- [ ] .github/PULL_REQUEST_TEMPLATE.md\n\n## Include\n- Bug: steps to reproduce, expected/actual behavior\n- Feature: use case, proposed solution\n- PR: description, testing done, checklist","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T07:40:30.537527Z","updated_at":"2026-01-05T13:44:24.644333Z","closed_at":"2026-01-05T13:44:24.644333Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-2t4","depends_on_id":"open-harness-awq","type":"parent-child","created_at":"2026-01-05T09:56:39.077263Z","created_by":"abuusama"}]}
{"id":"open-harness-31q","title":"E2.1: Persistence - SQLite Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: SQLite: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:35.100495Z","updated_at":"2026-01-07T11:18:35.100495Z"}
{"id":"open-harness-3ej","title":"Fix broken links on docs homepage","description":"The docs homepage has broken links that aren't caught by the link linter:\n\n**Issues found:**\n1. \"Get Started\" button links to /docs/learn but there's no /docs/learn/index.mdx\n   - Should link to /docs/learn/quickstart instead\n2. Link linter only checks internal doc links, doesn't validate homepage links\n\n**Files to fix:**\n- apps/docs/src/app/(home)/page.tsx (change /docs/learn to /docs/learn/quickstart)\n- Optionally: Create /docs/learn/index.mdx as a proper landing page\n\n**Testing:**\n- Run link linter\n- Manually test homepage links\n- Consider expanding link linter to check homepage","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T18:07:01.956891Z","updated_at":"2026-01-05T18:16:19.174154Z","closed_at":"2026-01-05T18:16:19.174154Z","close_reason":"Closed","comments":[{"id":13,"issue_id":"open-harness-3ej","author":"abuusama","text":"Additional broken link found: /docs/reference also has no index page. The reference directory exists but there's no index.mdx file. Need to either:\n1. Create /docs/reference/index.mdx\n2. Update homepage link to point to a specific reference page (e.g., /docs/reference/api)","created_at":"2026-01-05T18:07:57Z"}]}
{"id":"open-harness-3j1","title":"Migrate @open-harness/react tests to Testing Library + DOM env","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T17:24:56.877463Z","updated_at":"2026-01-07T17:24:56.877463Z","comments":[{"id":19,"issue_id":"open-harness-3j1","author":"abuusama","text":"Plan: migrate React tests off react-test-renderer. 1) Add devDeps in packages/open-harness/react/package.json: @testing-library/react, @testing-library/dom, (optional @testing-library/jest-dom), and happy-dom; remove react-test-renderer + @types/react-test-renderer. 2) Configure Bun test env: set [test] environment = 'happy-dom' in bunfig.toml (or add packages/open-harness/react/tests/setup.ts and reference via bun test config if needed). 3) Rewrite packages/open-harness/react/tests/unit/react-hooks.test.tsx to use @testing-library/react render/act instead of react-test-renderer. Use a TestComponent to capture hook return, and cleanup after each test. 4) Run bun run test (root) to confirm warnings are gone.","created_at":"2026-01-07T17:25:05Z"}]}
{"id":"open-harness-3sk","title":"Pattern: Dynamic prompt composition","description":"Test/example: String building with conditionals. Proves ternary, string concat, defaults (??).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:25:29.293309Z","updated_at":"2026-01-04T20:47:45.2271Z","closed_at":"2026-01-04T19:55:39.7968Z","dependencies":[{"issue_id":"open-harness-3sk","depends_on_id":"open-harness-ox5","type":"blocks","created_at":"2026-01-04T19:25:45.585314Z","created_by":"abuusama"}]}
{"id":"open-harness-407","title":"Create CONTRIBUTING.md guide","description":"Document how to contribute to the project.\n\n## Sections\n- [ ] Development setup (bun install, etc)\n- [ ] Running tests\n- [ ] Code style (biome)\n- [ ] PR process\n- [ ] Commit message format\n- [ ] Branch naming convention\n- [ ] Issue reporting guidelines","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:40:26.146055Z","updated_at":"2026-01-05T13:44:24.639611Z","closed_at":"2026-01-05T13:44:24.639611Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-407","depends_on_id":"open-harness-awq","type":"parent-child","created_at":"2026-01-05T09:56:38.636788Z","created_by":"abuusama"}]}
{"id":"open-harness-5da","title":"Sync alpha release issue to Beads","description":"## Context\n\nThis tracks syncing the Alpha Release meta issue from GitHub to Beads.\n\n**GitHub Issue**: https://github.com/Open-Harness/open-harness/issues/72\n- Title: ðŸš€ Alpha Release Preparation (Meta Issue)\n- Contains 15+ sub-issues for alpha prep work\n\n## Migration Plan\n\nWe're transitioning issue tracking:\n- **FROM**: GitHub Issues (manual, web UI dependent)\n- **TO**: Beads + Linear (AI-native, CLI-first)\n\n### Why\n- Beads works natively with AI agents (no API keys, no context switching)\n- Linear provides a nice web UI for humans who need it\n- GitHub Issues will be deprecated for new work\n\n### Next Steps\n1. Set up Linear integration (`bd linear sync`)\n2. Import existing alpha-prep issues from GitHub â†’ Beads\n3. Stop creating new GitHub issues\n4. Use Beads for all agent work, Linear for human visibility","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T17:01:40.373493Z","updated_at":"2026-01-04T17:12:27.629913Z","closed_at":"2026-01-04T17:12:27.629913Z"}
{"id":"open-harness-60t","title":"Document agent onboarding in CONTRIBUTING.md","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T08:14:33.930587Z","updated_at":"2026-01-05T13:44:24.642345Z","closed_at":"2026-01-05T13:44:24.642345Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-60t","depends_on_id":"open-harness-407","type":"blocks","created_at":"2026-01-05T09:02:43.245423Z","created_by":"abuusama"},{"issue_id":"open-harness-60t","depends_on_id":"open-harness-awq","type":"parent-child","created_at":"2026-01-05T09:56:38.738159Z","created_by":"abuusama"}]}
{"id":"open-harness-69b","title":"Alpha Release Prep","description":"Final preparation for Open Harness alpha release to npm.\n\n## Status\n\nMost work is DONE (11/16 issues closed on GitHub). Remaining work:\n- Documentation (67, 82): apps/docs updates + 35-page content epic\n- Config/Publishing (68, 70, 71): Workspace config, READMEs, npm prep\n\n## GitHub Issues\n\n- Meta: #72\n- OPEN: #67, #68, #70, #71, #82\n- CLOSED: #54, #55, #59, #61-#66, #69, #78\n\n## Dependencies\n\n- Depends on o0o (Developer Infrastructure) for CI/publishing setup\n- Blocks first npm publish\n\n## Definition of Done\n\n- [ ] All sub-tasks closed\n- [ ] bun install \u0026\u0026 bun run build \u0026\u0026 bun test passes\n- [ ] Documentation complete (P0 pages from #82)\n- [ ] Ready to run npm publish on packages/sdk","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-05T10:08:06.502648Z","updated_at":"2026-01-05T15:37:18.471376Z","closed_at":"2026-01-05T15:37:18.471376Z","close_reason":"Closed"}
{"id":"open-harness-69b.1","title":"Update apps/docs/ channel terminology and remove v2 references","description":"Fix outdated terminology and references in the documentation site.\n\n## Source\n\nGitHub #67: Update apps/docs/ for kernel-v3 and clean terminology\n\n## Specific Changes Required\n\n### 1. Channel Terminology Updates\n- **Old**: \"channels\" used ambiguously for both protocol and implementations\n- **New**: Clear distinction:\n  - \"Channel\" (singular) = core abstraction/protocol in kernel\n  - \"Channel implementation\" or \"adapter\" = integration example (e.g., github-channel)\n\n### 2. Remove kernel v2 References\n- Search for references to old `packages/kernel` (v2)\n- Update to point to current kernel (formerly kernel-v3)\n- Remove any v2-specific patterns or examples\n\n### 3. Verify Code Examples\n- All code examples must work with current kernel\n- Test imports point to `@open-harness/sdk` (not kernel-v3)\n- Verify example flows execute without errors\n\n## Files to Review\n\nPriority files from #67:\n- `content/docs/learn/channels.mdx`\n- `content/docs/reference/` (all API reference files)\n- Any tutorial content in `content/docs/`\n\n## Acceptance Criteria\n\n- [ ] Channel vs channel implementation terminology is clear and consistent\n- [ ] No references to kernel v2 or packages/kernel remain\n- [ ] All code examples tested and working\n- [ ] Terminology matches kernel-v3 (now kernel) architecture","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:08:34.727061Z","updated_at":"2026-01-05T15:31:41.661596Z","closed_at":"2026-01-05T15:31:41.661596Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.1","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:08:34.73497Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.1","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.491733Z","created_by":"abuusama"}]}
{"id":"open-harness-69b.10","title":"NPM publish preparation for @open-harness/sdk","description":"Final pre-flight checks before publishing SDK to npm.\n\n## Source\n\nGitHub #71: NPM publish preparation\n\n## Tasks\n\n### 1. Package Metadata\n- Verify package.json fields:\n  - name: `@open-harness/sdk`\n  - version: `0.1.0-alpha.1` (or appropriate alpha version)\n  - description: Accurate and compelling\n  - keywords: Relevant for discovery\n  - repository, bugs, homepage: Correct URLs\n  - license: Specified\n  - author/contributors: Listed\n  - engines: Node/bun version requirements\n\n### 2. Package Exports\n- Verify exports field is correct (from #hvc task)\n- Types field points to correct .d.ts files\n- files field whitelists only necessary files\n- Test: `bun pack` and inspect tarball contents\n- Verify: No sensitive files included (.env, etc.)\n\n### 3. Publishing Pipeline\n- Set up npm publish script or GitHub Action\n- Configure npm token/authentication (if automated)\n- Dry run: `npm publish --dry-run`\n- Verify: Build artifacts are correct\n- Decide: Manual vs automated publish for alpha\n\n### 4. Pre-Publish Checklist\n- [ ] All tests passing (`bun test`)\n- [ ] Build succeeds (`bun run build`)\n- [ ] Types generated correctly\n- [ ] README.md is publish-ready (#69b.8 done)\n- [ ] Documentation site live and accurate\n- [ ] CHANGELOG.md created with alpha notes\n- [ ] Git tag ready for version\n\n### 5. Post-Publish Verification Plan\n- Test install: `bun add @open-harness/sdk`\n- Verify: Types work in consuming project\n- Check: npm page renders correctly\n- Monitor: Download stats, issues\n\n## Dependencies\n\n- Depends on: o0o epic (CI/CD #l5k)\n- Depends on: All documentation tasks (#69b.1-7)\n- Depends on: READMEs (#69b.8)\n- Depends on: Workspace config (#69b.9)\n- **This is the LAST task before publish**\n\n## Acceptance Criteria\n\n- [ ] package.json metadata complete and accurate\n- [ ] Dry run publish succeeds\n- [ ] Tarball inspected and correct\n- [ ] Pre-publish checklist complete\n- [ ] Team approval to publish obtained","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T10:12:11.166289Z","updated_at":"2026-01-05T15:36:34.756721Z","closed_at":"2026-01-05T15:36:34.756721Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:12:11.167332Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.1","type":"blocks","created_at":"2026-01-05T10:12:47.209858Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.2","type":"blocks","created_at":"2026-01-05T10:12:47.310479Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.3","type":"blocks","created_at":"2026-01-05T10:12:47.413809Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.4","type":"blocks","created_at":"2026-01-05T10:12:47.506526Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.5","type":"blocks","created_at":"2026-01-05T10:12:47.615174Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.6","type":"blocks","created_at":"2026-01-05T10:12:47.72207Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.7","type":"blocks","created_at":"2026-01-05T10:12:47.821008Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.8","type":"blocks","created_at":"2026-01-05T10:12:47.917224Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-69b.9","type":"blocks","created_at":"2026-01-05T10:12:48.02271Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.10","depends_on_id":"open-harness-l5k","type":"blocks","created_at":"2026-01-05T10:13:07.046729Z","created_by":"abuusama"}]}
{"id":"open-harness-69b.11","title":"Alpha Documentation - 35 Pages","description":"## Overview\n\nUmbrella tracking issue for all documentation work required for Open Harness alpha release.\n\n**Manifest**: `.context/docs_manifest.md`\n\n## Scope\n\n| Category | Pages | P0 | P1 | P2 | Hours |\n|----------|-------|----|----|-----|-------|\n| Tutorials | 4 | 2 | 2 | 0 | 14h |\n| Guides | 11 | 4 | 5 | 2 | 34h |\n| Reference | 15 | 5 | 7 | 3 | 27h |\n| Concepts | 5 | 2 | 2 | 1 | 15h |\n| **Total** | **35** | **13** | **16** | **6** | **90h** |\n\n## Key Features\n\n- **Full DiÃ¡taxis structure**: Tutorials -\u003e Guides -\u003e Reference -\u003e Concepts\n- **JSONata expressions prominently featured**: New binding/conditional system\n- **Hybrid automation**: fumadocs-typescript for types, hand-written descriptions/examples\n- **CI pipeline**: Auto-rebuild on type changes\n\n## Related Work (Beads)\n\n- Parent: open-harness-69b (Alpha Release Prep)\n- Docs terminology cleanup: open-harness-69b.1\n- Update all READMEs for alpha release: open-harness-69b.8\n- JSONata expressions (source for docs): open-harness-7je\n- Clean up docs-plan/, .context/, and root docs/ (tracking TBD)\n\n## P0 Deliverables (Must-have for Alpha)\n\n### Tutorials\n- [ ] Quickstart tutorial (4h)\n- [ ] Your first agent tutorial (3h)\n\n### Concepts\n- [ ] Architecture concept page (4h)\n- [ ] Why JSONata concept page (3h)\n\n### Guides\n- [ ] JSONata bindings guide (3h)\n- [ ] JSONata conditionals guide (3h)\n- [ ] Production deployment guide (4h)\n- [ ] Persistence configuration guide (3h)\n\n### Reference\n- [ ] Hub API reference (2h)\n- [ ] Agent API reference (2h)\n- [ ] Channel API reference (2h)\n- [ ] Events API reference (3h)\n- [ ] JSONata syntax reference (2h)\n\n### Infrastructure\n- [ ] Set up fumadocs-typescript (2h)\n- [ ] Add TSDoc comments to core types (4h)\n\n## Dependencies\n\n| Blocker | Blocks | Status |\n|---------|--------|--------|\n| JSONata expressions merged (open-harness-7je) | Expression docs | Done |\n| fumadocs-typescript setup (open-harness-69b.7) | Auto-generated type docs | Not started |\n\n## Success Criteria\n\n- [ ] User can go from landing page -\u003e running first flow in \u003c5 minutes\n- [ ] Architecture is understandable without reading source code\n- [ ] JSONata expressions are well-documented with examples\n- [ ] API reference has accurate type information\n- [ ] All P0 pages complete before alpha announcement\n\n## Traceability\n\nThis epic is the single source of truth for the alpha documentation scope and P0 requirements.\nChild tasks: open-harness-69b.1, open-harness-69b.2, open-harness-69b.3, open-harness-69b.4, open-harness-69b.5, open-harness-69b.6, open-harness-69b.7\n","status":"closed","priority":0,"issue_type":"epic","assignee":"abuusama","created_at":"2026-01-05T13:11:29.777315Z","updated_at":"2026-01-05T15:32:01.523132Z","closed_at":"2026-01-05T15:32:01.523132Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.11","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T13:11:29.780259Z","created_by":"abuusama"}],"comments":[{"id":1,"issue_id":"open-harness-69b.11","author":"abuusama","text":"P0 docs updated for tasks 69b.2-69b.5 (tutorials, concepts, JSONata guides, deployment). Hub/API reference (69b.6) deferred to Hub/Channel implementation agent; quickstart includes Hub/Channel placeholder section. No API reference updates yet.","created_at":"2026-01-05T14:07:27Z"},{"id":2,"issue_id":"open-harness-69b.11","author":"abuusama","text":"Completed P0 reference updates for 69b.6: runtime/transport/event docs now match SDK, JSONata reference corrected, quickstart Hub placeholder removed. Remaining work: PR + draft PR creation.","created_at":"2026-01-05T14:25:22Z"},{"id":3,"issue_id":"open-harness-69b.11","author":"abuusama","text":"Completed P0 alpha docs updates (tutorials, concepts, JSONata guides, deployment guides, and API reference). All docs now match current SDK (createRuntime, RunStore, Transport, NodeTypeDefinition). Hub/Channel API marked as planned, not shipped.","created_at":"2026-01-05T14:33:44Z"}]}
{"id":"open-harness-69b.2","title":"Write P0 tutorials: Quickstart and Your First Agent","description":"Create the two critical tutorial pages for alpha release.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - P0 Tutorials\n\n## Deliverables\n\n### 1. Quickstart Tutorial (4h estimate)\n**File**: `apps/docs/content/docs/tutorials/quickstart.mdx`\n\n**Requirements**:\n- User goes from landing page â†’ running first flow in \u003c5 minutes\n- Installation: bun add @open-harness/sdk\n- Minimal example: Hello World agent\n- Shows: Hub creation, agent registration, channel setup, execution\n- No advanced concepts (JSONata, persistence, etc.) - just the basics\n- Working code that can be copy-pasted\n\n**Success metric**: Complete beginner can run their first flow in \u003c5 min\n\n### 2. Your First Agent Tutorial (3h estimate)\n**File**: `apps/docs/content/docs/tutorials/first-agent.mdx`\n\n**Requirements**:\n- Builds on quickstart with a real-world example\n- Shows: Multi-node flow, conditional logic, state management\n- Example domain: Simple chatbot or task automation\n- Explains: When to use agents vs simple functions\n- Code examples must be tested and working\n- Links to concepts/guides for deeper learning\n\n**Success metric**: User understands agent basics and can build custom flows\n\n## Dependencies\n\n- Requires current kernel API to be stable\n- Depends on: SDK API reference being accurate\n\n## Acceptance Criteria\n\n- [ ] Both tutorial files created in correct location\n- [ ] Code examples tested and execute without errors\n- [ ] Follows DiÃ¡taxis tutorial structure (learning-oriented)\n- [ ] Clear prerequisites listed\n- [ ] Next steps/links to related guides included\n- [ ] Quickstart achieves \u003c5 min time-to-first-flow","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:08:58.34381Z","updated_at":"2026-01-05T15:31:47.794815Z","closed_at":"2026-01-05T15:31:47.794815Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.2","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:08:58.344646Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.2","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.584812Z","created_by":"abuusama"}],"comments":[{"id":4,"issue_id":"open-harness-69b.2","author":"abuusama","text":"Updated tutorials using existing Learn structure: apps/docs/content/docs/learn/quickstart.mdx and apps/docs/content/docs/learn/your-first-agent.mdx. Quickstart now uses createRuntime + custom hello.agent with a Hub/Channel placeholder section pending Hub API. First-agent now shows a multi-node task triage flow with when conditions and state usage.","created_at":"2026-01-05T14:07:23Z"}]}
{"id":"open-harness-69b.3","title":"Write P0 concept pages: Architecture and Why JSONata","description":"Create foundational concept documentation explaining system design.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - P0 Concepts\n\n## Deliverables\n\n### 1. Architecture Concept Page (4h estimate)\n**File**: `apps/docs/content/docs/concepts/architecture.mdx`\n\n**Requirements**:\n- Explain Open Harness architecture without requiring source code reading\n- Cover: Hub, Agent, Runtime, Channel, Transport layers\n- Diagram: System architecture (can be ASCII or Mermaid)\n- Explain: How components fit together\n- Clarify: Channel (protocol) vs channel implementation (adapter)\n- Show: Message flow from channel â†’ hub â†’ agent â†’ runtime\n- No code examples (this is conceptual)\n\n**Success metric**: Developer can understand architecture from this page alone\n\n### 2. Why JSONata Concept Page (3h estimate)\n**File**: `apps/docs/content/docs/concepts/why-jsonata.mdx`\n\n**Requirements**:\n- Explain the decision to use JSONata for bindings/conditionals\n- Cover: What JSONata is, why we chose it over alternatives\n- Benefits: Type-safe transforms, no eval(), declarative\n- Comparison: vs template strings, vs JavaScript eval\n- When to use: Bindings, conditionals, data transforms\n- Link to: JSONata guides and syntax reference\n- Simple examples showing JSONata power (1-2 snippets max)\n\n**Success metric**: User understands why JSONata and when to reach for it\n\n## Dependencies\n\n- JSONata PR #81 must be merged (to document accurate syntax)\n\n## Acceptance Criteria\n\n- [ ] Both concept files created\n- [ ] Architecture diagram included and clear\n- [ ] Follows DiÃ¡taxis concept structure (understanding-oriented)\n- [ ] No code-heavy sections (link to guides for how-to)\n- [ ] Technical accuracy verified by maintainer review","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:09:21.50039Z","updated_at":"2026-01-05T15:31:47.877325Z","closed_at":"2026-01-05T15:31:47.877325Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.3","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:09:21.509585Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.3","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.682051Z","created_by":"abuusama"}],"comments":[{"id":5,"issue_id":"open-harness-69b.3","author":"abuusama","text":"Updated architecture concept: removed code examples, added Mermaid diagrams, clarified Hub/Runtime/Channel/Transport roles, and message flow. Added Why JSONata concept at apps/docs/content/docs/concepts/why-jsonata.mdx and updated apps/docs/content/docs/concepts/meta.json.","created_at":"2026-01-05T14:07:24Z"}]}
{"id":"open-harness-69b.4","title":"Write P0 JSONata guides: Bindings and Conditionals","description":"Create practical how-to guides for using JSONata expressions.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - P0 Guides\n\n## Deliverables\n\n### 1. JSONata Bindings Guide (3h estimate)\n**File**: `apps/docs/content/docs/guides/jsonata-bindings.mdx`\n\n**Requirements**:\n- How to bind runtime data to node inputs using JSONata\n- Examples: `\\${user.name}`, `\\${messages[0].content}`, object transforms\n- Show: Simple bindings, nested access, array operations\n- Common patterns: Accessing previous node outputs, runtime state\n- Working code examples with expected outputs\n- Troubleshooting: Common JSONata binding errors\n- Link to: JSONata syntax reference\n\n**Success metric**: User can write custom bindings for their flows\n\n### 2. JSONata Conditionals Guide (3h estimate)\n**File**: `apps/docs/content/docs/guides/jsonata-conditionals.mdx`\n\n**Requirements**:\n- How to use JSONata for conditional node execution\n- Syntax: Conditional expressions in node config\n- Examples: `messages.length \u003e 0`, `user.role = 'admin'`, complex logic\n- Show: Boolean expressions, comparison operators, logical AND/OR\n- Use cases: Skip nodes, branching logic, error handling\n- Working code examples demonstrating conditional flows\n- Edge cases: null/undefined handling\n\n**Success metric**: User can implement conditional logic in agents\n\n## Dependencies\n\n- Requires JSONata PR #81 merged (accurate syntax)\n- Depends on: Concept page \"Why JSONata\" for context\n\n## Acceptance Criteria\n\n- [ ] Both guide files created\n- [ ] Code examples tested and execute correctly\n- [ ] Follows DiÃ¡taxis guide structure (task-oriented)\n- [ ] Clear step-by-step instructions\n- [ ] Troubleshooting section included\n- [ ] Links to concept and reference pages","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:09:41.430188Z","updated_at":"2026-01-05T15:31:47.958443Z","closed_at":"2026-01-05T15:31:47.958443Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.4","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:09:41.445206Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.4","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.786887Z","created_by":"abuusama"}],"comments":[{"id":6,"issue_id":"open-harness-69b.4","author":"abuusama","text":"Updated JSONata guides at apps/docs/content/docs/guides/expressions/bindings.mdx and conditionals.mdx with correct binding context, when syntax, examples, and troubleshooting.","created_at":"2026-01-05T14:07:24Z"}]}
{"id":"open-harness-69b.5","title":"Write P0 deployment guides: Production and Persistence","description":"Create operational guides for deploying and configuring Open Harness.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - P0 Guides\n\n## Deliverables\n\n### 1. Production Deployment Guide (4h estimate)\n**File**: `apps/docs/content/docs/guides/production-deployment.mdx`\n\n**Requirements**:\n- How to deploy Open Harness agents to production\n- Environments: Node.js server, Docker, serverless (if supported)\n- Configuration: Environment variables, secrets management\n- Best practices: Error handling, logging, monitoring\n- Security: Authentication, rate limiting, input validation\n- Examples: Express.js integration, standalone service\n- Checklist: Pre-production verification steps\n\n**Success metric**: User can deploy a production-ready agent\n\n### 2. Persistence Configuration Guide (3h estimate)\n**File**: `apps/docs/content/docs/guides/persistence-config.mdx`\n\n**Requirements**:\n- How to configure persistent state storage\n- Options: In-memory (dev), file-based, database-backed\n- Configuration examples for each persistence backend\n- Trade-offs: Performance vs durability vs cost\n- Migration: Moving from dev (in-memory) to prod (persistent)\n- State management: What gets persisted, lifecycle, cleanup\n- Working examples for each backend type\n\n**Success metric**: User can choose and configure appropriate persistence\n\n## Dependencies\n\n- Depends on: o0o epic completion (CI/build setup)\n- Current persistence implementation must be stable\n\n## Acceptance Criteria\n\n- [ ] Both guide files created\n- [ ] Deployment examples tested in real environments\n- [ ] Security best practices included\n- [ ] Follows DiÃ¡taxis guide structure\n- [ ] Configuration examples are copy-pasteable\n- [ ] Troubleshooting sections included","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:10:00.170605Z","updated_at":"2026-01-05T15:31:48.035932Z","closed_at":"2026-01-05T15:31:48.035932Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.5","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:10:00.180703Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.5","depends_on_id":"open-harness-l5k","type":"blocks","created_at":"2026-01-05T10:13:07.140629Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.5","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.892474Z","created_by":"abuusama"}],"comments":[{"id":7,"issue_id":"open-harness-69b.5","author":"abuusama","text":"Updated deployment guides at apps/docs/content/docs/guides/deployment/production.mdx and persistence.mdx to match runtime/RunStore APIs, added examples, checklists, and trade-offs.","created_at":"2026-01-05T14:07:25Z"}]}
{"id":"open-harness-69b.6","title":"Write P0 API reference: Hub, Agent, Channel, Events, JSONata syntax","description":"Create comprehensive API reference documentation for core types.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - P0 Reference\n\n## Deliverables\n\n### 1. Hub API Reference (2h estimate)\n**File**: `apps/docs/content/docs/reference/hub-api.mdx`\n\n- Hub class: Constructor, methods, properties\n- Agent registration: `hub.register()`\n- Execution: `hub.run()`, lifecycle\n- Events: Hub-level event emission\n- TypeScript signatures with fumadocs-typescript\n- Code examples for each major method\n\n### 2. Agent API Reference (2h estimate)\n**File**: `apps/docs/content/docs/reference/agent-api.mdx`\n\n- Agent interface: Required fields, optional config\n- Node definitions: Types, structure, validation\n- Flow configuration: Bindings, conditionals, dependencies\n- Agent lifecycle hooks (if any)\n- TypeScript signatures auto-generated\n- Example agent definitions\n\n### 3. Channel API Reference (2h estimate)\n**File**: `apps/docs/content/docs/reference/channel-api.mdx`\n\n- Channel interface: Protocol requirements\n- Message types: Structure, validation\n- Transport layer: Abstractions\n- How to implement custom channels\n- TypeScript signatures\n- Example channel implementation stub\n\n### 4. Events API Reference (3h estimate)\n**File**: `apps/docs/content/docs/reference/events-api.mdx`\n\n- Event system overview: Emission, subscription\n- Event types: Node events, agent events, hub events\n- Event payloads: Structure for each type\n- Subscription API: `on()`, `once()`, `off()`\n- Event-driven patterns examples\n- TypeScript event type definitions\n\n### 5. JSONata Syntax Reference (2h estimate)\n**File**: `apps/docs/content/docs/reference/jsonata-syntax.mdx`\n\n- Operators: $, [], {}, comparison, logical\n- Functions: Built-in JSONata functions available\n- Path expressions: Nested object/array access\n- Conditionals: Ternary, boolean expressions\n- Common patterns cheat sheet\n- Link to official JSONata.org for full spec\n\n## Infrastructure Dependency\n\nRequires fumadocs-typescript setup (#82 task) for auto-generating type signatures\n\n## Acceptance Criteria\n\n- [ ] All 5 reference files created\n- [ ] TypeScript signatures accurate and auto-generated where possible\n- [ ] Code examples compile and execute\n- [ ] Follows DiÃ¡taxis reference structure (information-oriented)\n- [ ] Cross-links to related guides/concepts\n- [ ] Search-optimized (clear headings, keywords)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T10:10:28.947922Z","updated_at":"2026-01-05T15:31:52.460944Z","closed_at":"2026-01-05T15:31:52.460944Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.6","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:10:28.957329Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.6","depends_on_id":"open-harness-69b.7","type":"blocks","created_at":"2026-01-05T10:12:47.113739Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.6","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:39.993801Z","created_by":"abuusama"}],"comments":[{"id":8,"issue_id":"open-harness-69b.6","author":"abuusama","text":"Updated API/reference docs to match current SDK: runtime API (hub.mdx), runtime execution (flow-runtime.mdx), node types (agent.mdx), transport API (channel.mdx), events (events.mdx + runtime-event type), run-store, node-registry. Updated JSONata reference (context/syntax/functions) to match binding context. Removed Hub placeholder in quickstart; architecture includes note that Hub API is planned.","created_at":"2026-01-05T14:25:19Z"}]}
{"id":"open-harness-69b.7","title":"Set up fumadocs-typescript and add TSDoc comments","description":"Configure automated API documentation generation from TypeScript types.\n\n## Source\n\nBeads Epic open-harness-69b.11: Alpha Documentation Epic - Infrastructure\n\n## Deliverables\n\n### 1. Set up fumadocs-typescript (2h estimate)\n\n**Requirements**:\n- Install and configure fumadocs-typescript in apps/docs\n- Configure build pipeline to regenerate docs on type changes\n- Set up CI: Auto-rebuild when packages/sdk types change\n- Test: Verify type changes propagate to docs\n- Documentation: How to maintain fumadocs config\n\n**Files**:\n- `apps/docs/fumadocs.config.ts` (or equivalent)\n- `apps/docs/package.json` (scripts for doc generation)\n- `.github/workflows/docs.yml` (CI pipeline)\n\n### 2. Add TSDoc Comments to Core Types (4h estimate)\n\n**Requirements**:\n- Add JSDoc/TSDoc comments to all public APIs in packages/sdk\n- Coverage: Hub, Agent, Channel, Runtime, Events interfaces\n- Format: `/** Description @param @returns @example */`\n- Examples: Include code examples in TSDoc where helpful\n- Validation: Use tsdoc linter to verify format\n- Priority: Core types first (Hub, Agent), then extended types\n\n**Files to Document**:\n- `packages/sdk/src/hub.ts`\n- `packages/sdk/src/agent.ts`\n- `packages/sdk/src/channel.ts`\n- `packages/sdk/src/runtime.ts`\n- `packages/sdk/src/events.ts`\n- Related type definitions\n\n**TSDoc Style**:\n```typescript\n/**\n * Creates a new agent hub for managing multi-agent workflows.\n * \n * @param config - Hub configuration options\n * @returns Initialized hub instance\n * \n * @example\n * ```ts\n * const hub = createHub({ name: 'my-hub' })\n * ```\n */\nexport function createHub(config: HubConfig): Hub { ... }\n```\n\n## Dependencies\n\n- Blocks: API reference page creation (#69b.6)\n- Depends on: SDK package structure being stable\n\n## Acceptance Criteria\n\n- [ ] fumadocs-typescript installed and configured\n- [ ] CI pipeline rebuilds docs on type changes\n- [ ] All public Hub APIs have TSDoc comments\n- [ ] All public Agent APIs have TSDoc comments\n- [ ] TSDoc linter passes\n- [ ] Generated docs render correctly in apps/docs\n- [ ] Examples in TSDoc are tested and working","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T10:10:57.943293Z","updated_at":"2026-01-05T15:32:01.442038Z","closed_at":"2026-01-05T15:32:01.442038Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.7","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:10:57.95181Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.7","depends_on_id":"open-harness-69b.11","type":"parent-child","created_at":"2026-01-05T13:11:40.095891Z","created_by":"abuusama"}]}
{"id":"open-harness-69b.8","title":"Update all READMEs for alpha release","description":"Refresh README files across the monorepo for alpha launch.\n\n## Source\n\nGitHub #70: Update all READMEs for alpha release\n\n## Scope\n\nUpdate README.md files in:\n- Root: `/README.md`\n- Package: `packages/sdk/README.md`\n- Apps: `apps/*/README.md` (if public-facing)\n\n## Requirements for Each README\n\n### Root README (`/README.md`)\n- Project overview: What is Open Harness?\n- Alpha status badge/notice\n- Quick start: Link to docs/tutorials/quickstart\n- Features: Core capabilities (JSONata, multi-agent, etc.)\n- Installation: `bun add @open-harness/sdk`\n- Basic example: Hello World agent\n- Links: Docs site, contributing, license\n- Alpha limitations/caveats section\n\n### Package README (`packages/sdk/README.md`)\n- Package description for npm listing\n- Installation instructions\n- Minimal usage example\n- Link to full documentation\n- API reference link\n- License and contributing info\n- Version and alpha status\n\n### App READMEs (if applicable)\n- Purpose of the app\n- How to run locally\n- Configuration requirements\n- Link to main docs\n\n## Acceptance Criteria\n\n- [ ] Root README updated with alpha notice\n- [ ] SDK package README ready for npm listing\n- [ ] All code examples tested and working\n- [ ] Links to documentation site functional\n- [ ] Alpha status clearly communicated\n- [ ] Installation instructions accurate\n- [ ] No references to old package names (kernel-v3)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T10:11:20.460718Z","updated_at":"2026-01-05T15:36:34.497467Z","closed_at":"2026-01-05T15:36:34.497467Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.8","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:11:20.474357Z","created_by":"abuusama"}]}
{"id":"open-harness-69b.9","title":"Clean up workspace config and fix directory references","description":"Fix turbo.json, package.json, and workspace configuration for alpha.\n\n## Source\n\nGitHub #68: Clean up workspace config and fix directory references\n\n## Tasks\n\n### 1. Update turbo.json\n- Remove references to deleted packages (kernel v2, rtv-channel, config stub)\n- Verify pipeline definitions point to correct directories\n- Update dependencies between packages\n- Test: `turbo build`, `turbo test`, `turbo lint` all pass\n\n### 2. Update Root package.json\n- Verify workspaces array is correct\n- Remove references to archived/deleted packages\n- Update scripts if needed\n- Verify dev dependencies are current\n\n### 3. Verify Package References\n- Check all packages correctly reference `@open-harness/sdk` not kernel-v3\n- Update peer dependencies if changed\n- Verify version constraints are compatible\n\n### 4. Test Full Build\n- `bun install` completes without errors\n- `turbo build` succeeds for all packages\n- `turbo test` passes\n- `turbo lint` passes with no errors\n\n## Acceptance Criteria\n\n- [ ] turbo.json references only existing packages\n- [ ] All workspace paths correct\n- [ ] No references to deleted/archived packages\n- [ ] Full build pipeline succeeds\n- [ ] Documentation updated if config changed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T10:11:43.271944Z","updated_at":"2026-01-05T15:36:34.623939Z","closed_at":"2026-01-05T15:36:34.623939Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-69b.9","depends_on_id":"open-harness-69b","type":"parent-child","created_at":"2026-01-05T10:11:43.282975Z","created_by":"abuusama"},{"issue_id":"open-harness-69b.9","depends_on_id":"open-harness-hvc","type":"blocks","created_at":"2026-01-05T10:13:07.246252Z","created_by":"abuusama"}]}
{"id":"open-harness-6ef","title":"Add CODEOWNERS for human-only paths","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T08:14:36.729084Z","updated_at":"2026-01-05T13:44:24.646219Z","closed_at":"2026-01-05T13:44:24.646219Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-6ef","depends_on_id":"open-harness-awq","type":"parent-child","created_at":"2026-01-05T09:56:38.971087Z","created_by":"abuusama"}]}
{"id":"open-harness-6l2","title":"Phase 3: Update flow YAML files","description":"Fix agent-loop.yaml, simple-loop.yaml, test-loop.yaml to use JSONata syntax","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:27.003023Z","updated_at":"2026-01-04T20:47:45.224713Z","closed_at":"2026-01-04T19:56:57.764992Z","dependencies":[{"issue_id":"open-harness-6l2","depends_on_id":"open-harness-v0s","type":"blocks","created_at":"2026-01-04T19:02:51.054498Z","created_by":"abuusama"},{"issue_id":"open-harness-6l2","depends_on_id":"open-harness-nu9","type":"blocks","created_at":"2026-01-04T19:25:47.398888Z","created_by":"abuusama"}]}
{"id":"open-harness-75k","title":"E4.7: Framework - Testing Docs + Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Testing: Document + tests.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:40.148427Z","updated_at":"2026-01-07T11:18:40.148427Z"}
{"id":"open-harness-778","title":"E1.3: Transport - @internal/client Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/client: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.256909Z","updated_at":"2026-01-07T11:18:33.256909Z"}
{"id":"open-harness-79n","title":"E2.3: Persistence - SQLite Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: SQLite: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:35.49543Z","updated_at":"2026-01-07T11:18:35.49543Z"}
{"id":"open-harness-7dn","title":"E1.1: Transport - @internal/client Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/client: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:32.87362Z","updated_at":"2026-01-07T11:18:32.87362Z"}
{"id":"open-harness-7je","title":"JSONata Expression Language Migration","description":"Migrate kernel-v3 bindings from custom path-only templates to JSONata expressions. Fixes iteration loops crashing on missing paths.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T19:01:46.474722Z","updated_at":"2026-01-04T20:47:45.228656Z","closed_at":"2026-01-04T20:00:35.070823Z"}
{"id":"open-harness-7n4","title":"E2.5: Persistence - SQLite Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: SQLite: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:35.865329Z","updated_at":"2026-01-07T11:18:35.865329Z"}
{"id":"open-harness-890","title":"E1.5: Transport - @internal/client Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/client: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.629431Z","updated_at":"2026-01-07T11:18:33.629431Z"}
{"id":"open-harness-8ch","title":"E1.2: Transport - @internal/client Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/client: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.071038Z","updated_at":"2026-01-07T11:18:33.071038Z"}
{"id":"open-harness-8ml","title":"Flow Daemon v1 (single-flow, single-run)","description":"Implement the v1 flow daemon per specs/daemon/*.\n\nScope:\n- Single flow per process, single run at a time.\n- In-memory only (no SQLite), built-in nodes only.\n- Long-lived process: starts run on boot, exits on completion.\n- WebSocket protocol uses existing runtime envelope.\n- Thin WS adapter (ports-based) + grouped text renderer + JSONL renderer.\n\nReferences:\n- specs/daemon/README.md\n- specs/daemon/ARCHITECTURE.md\n- specs/daemon/PROTOCOL.md\n- specs/daemon/RENDERING.md\n- specs/daemon/CLI.md\n- specs/daemon/TESTING.md\n\nOut of scope:\n- Multi-flow or multi-run.\n- Persistence/resume across restarts.\n- New protocol or runtime event types.\n","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-05T14:10:50.989905Z","updated_at":"2026-01-05T14:10:50.989905Z"}
{"id":"open-harness-8ml.1","title":"Scaffold daemon package + build scripts","description":"Create `packages/daemon` scaffold and build scripts.\n\nDeliverables:\n- `packages/daemon/package.json` with bin entry for `open-harness-daemon`.\n- `packages/daemon/tsconfig.json` (TypeScript 5 strict).\n- `packages/daemon/src/app/main.ts` entrypoint stub.\n- `bun build --compile` script for standalone executable.\n- Workspace wiring so repo builds/tests see the package.\n\nAcceptance:\n- `bun run build` (or package-level script) builds the daemon binary.\n- `open-harness-daemon --help` prints usage once wired.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:11:03.473174Z","updated_at":"2026-01-05T14:11:03.473174Z","dependencies":[{"issue_id":"open-harness-8ml.1","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:11:03.474327Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.2","title":"Implement core types/ports/config + FlowDaemon","description":"Implement the core ports and orchestrator per specs/daemon/ARCHITECTURE.md.\n\nDeliverables:\n- `core/types.ts` (RenderMode, Verbosity, StreamMode).\n- `core/config.ts` (DaemonConfig + defaults).\n- `core/ports.ts` (CommandSource, EventSink interfaces).\n- `core/daemon.ts` (FlowDaemon orchestrator).\n\nNotes:\n- Core owns runtime wiring only (`dispatch`, `onEvent`, `run`).\n- No adapter calls runtime directly.\n\nAcceptance:\n- Core compiles standalone and can be instantiated from `app/main.ts`.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:11:18.404432Z","updated_at":"2026-01-05T14:11:18.404432Z","dependencies":[{"issue_id":"open-harness-8ml.2","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:11:18.40522Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.2","depends_on_id":"open-harness-8ml.1","type":"blocks","created_at":"2026-01-05T14:13:07.275273Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.3","title":"CLI adapter: args + input parsing","description":"Implement CLI adapter per specs/daemon/CLI.md.\n\nDeliverables:\n- `adapters/cli/args.ts` parses flags into DaemonConfig defaults.\n- `adapters/cli/input.ts` reads JSON input from `--input` or `--input-file`.\n- Validation for required `--flow` and flag conflicts.\n\nAcceptance:\n- `--help` shows all flags with defaults.\n- `--input` overrides `--input-file`.\n- Missing `--flow` exits with non-zero status.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:11:31.187613Z","updated_at":"2026-01-05T14:11:31.187613Z","dependencies":[{"issue_id":"open-harness-8ml.3","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:11:31.18839Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.3","depends_on_id":"open-harness-8ml.2","type":"blocks","created_at":"2026-01-05T14:13:12.670147Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.4","title":"WS adapter (thin) using runtime envelope","description":"Implement the thin WebSocket adapter per specs/daemon/PROTOCOL.md.\n\nDeliverables:\n- `adapters/ws/protocol.ts` with envelope types + decode/encode helpers.\n- `adapters/ws/server.ts` implementing CommandSource + EventSink.\n- Uses Bun.serve with WS upgrade; broadcasts RuntimeEvent envelopes.\n- Accepts RuntimeCommand envelopes; invokes handler only (no runtime wiring).\n\nAcceptance:\n- WS clients receive runtime events as `{type:\"event\"}`.\n- WS clients can send `{type:\"command\"}` and handler receives RuntimeCommand.\n- Invalid JSON is ignored and logged (no crash).\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:11:44.496775Z","updated_at":"2026-01-05T14:11:44.496775Z","dependencies":[{"issue_id":"open-harness-8ml.4","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:11:44.497629Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.4","depends_on_id":"open-harness-8ml.2","type":"blocks","created_at":"2026-01-05T14:13:17.994292Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.5","title":"Renderers: grouped text + JSONL","description":"Implement renderers per specs/daemon/RENDERING.md.\n\nDeliverables:\n- Text renderer with grouping by node/agent and runId buckets.\n- Verbosity filters and stream vs buffered behavior.\n- ANSI colors when stdout is a TTY; plain text otherwise.\n- JSON lines renderer for `--print-json`.\n\nAcceptance:\n- Grouped output matches spec examples.\n- Streaming mode prints deltas; buffered mode prints final text only.\n- Verbosity levels filter event types correctly.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:11:57.353227Z","updated_at":"2026-01-05T14:11:57.353227Z","dependencies":[{"issue_id":"open-harness-8ml.5","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:11:57.354076Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.5","depends_on_id":"open-harness-8ml.2","type":"blocks","created_at":"2026-01-05T14:13:23.330166Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.6","title":"Composition root: main wiring + exit codes","description":"Wire everything together in `app/main.ts`.\n\nDeliverables:\n- Parse CLI -\u003e DaemonConfig + input.\n- Read YAML and parse with `parseFlowYaml` (root-level FlowDefinition).\n- Register built-in nodes (`constant`, `echo`, `claude.agent`).\n- Create runtime, renderers, WS adapter, and FlowDaemon.\n- Exit codes per spec (0 success, 1 error, 2 abort non-resumable).\n\nAcceptance:\n- Running the daemon with a simple flow prints grouped output.\n- WS clients can connect and see events.\n- Daemon exits on flow completion.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:12:10.709865Z","updated_at":"2026-01-05T14:12:10.709865Z","dependencies":[{"issue_id":"open-harness-8ml.6","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:12:10.710801Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.6","depends_on_id":"open-harness-8ml.2","type":"blocks","created_at":"2026-01-05T14:13:28.667021Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.6","depends_on_id":"open-harness-8ml.3","type":"blocks","created_at":"2026-01-05T14:13:34.027514Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.6","depends_on_id":"open-harness-8ml.4","type":"blocks","created_at":"2026-01-05T14:13:39.352509Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.6","depends_on_id":"open-harness-8ml.5","type":"blocks","created_at":"2026-01-05T14:13:44.668817Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.7","title":"Tests: unit + integration per spec","description":"Implement tests per specs/daemon/TESTING.md.\n\nDeliverables:\n- Unit tests for renderer filters/grouping and JSONL output.\n- Unit tests for CLI arg parsing defaults and conflicts.\n- Unit tests for WS envelope decoding.\n- Integration test with constant/echo flow:\n  - WS receives events.\n  - `abort` + `resume` works.\n\nAcceptance:\n- `bun test` passes in packages/daemon.\n- Tests do not fabricate SDK fixtures.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T14:12:24.398316Z","updated_at":"2026-01-05T14:12:24.398316Z","dependencies":[{"issue_id":"open-harness-8ml.7","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:12:24.399115Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.7","depends_on_id":"open-harness-8ml.6","type":"blocks","created_at":"2026-01-05T14:13:50.005136Z","created_by":"daemon"}]}
{"id":"open-harness-8ml.8","title":"Package README + usage examples","description":"Add a minimal README under `packages/daemon`.\n\nDeliverables:\n- Usage examples (CLI flags + WS connection).\n- Notes about protocol envelope and flow YAML format.\n- Troubleshooting (missing flow, invalid JSON).\n\nAcceptance:\n- README references specs/daemon/* for deeper design details.\n","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T14:12:40.462004Z","updated_at":"2026-01-05T14:12:40.462004Z","dependencies":[{"issue_id":"open-harness-8ml.8","depends_on_id":"open-harness-8ml","type":"parent-child","created_at":"2026-01-05T14:12:40.462802Z","created_by":"daemon"},{"issue_id":"open-harness-8ml.8","depends_on_id":"open-harness-8ml.6","type":"blocks","created_at":"2026-01-05T14:13:55.327374Z","created_by":"daemon"}]}
{"id":"open-harness-8vt","title":"E3.11: Server - Client + Persistence Integration Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Server + client integration tests.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.612456Z","updated_at":"2026-01-07T11:18:38.612456Z"}
{"id":"open-harness-8wj","title":"Phase 1: Install JSONata and create evaluator wrapper","description":"Install jsonata package, create expressions.ts with evaluateExpression, parseTemplate, resolveTemplate functions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:01.875282Z","updated_at":"2026-01-04T20:47:45.227885Z","closed_at":"2026-01-04T19:36:17.544788Z"}
{"id":"open-harness-961","title":"E4.2: Framework - React Result Hooks","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: React: Add Result hooks.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:39.19393Z","updated_at":"2026-01-07T11:18:39.19393Z"}
{"id":"open-harness-9c2","title":"E1.4: Transport - @internal/client Result API Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/client: Test Result API.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.441743Z","updated_at":"2026-01-07T11:18:33.441743Z"}
{"id":"open-harness-9mq","title":"Runtime Reorganization + Documentation Infrastructure","description":"Reorganize packages/internal/core/src/runtime/ into 4 logical subsystems (compiler, execution, expressions, state), introduce metadata-tracked READMEs with YAML frontmatter across all packages, and apply neverthrow + Result types to all runtime error handling. Establishes scalable pattern for documentation, error handling, and module organization.","status":"closed","priority":2,"issue_type":"epic","estimated_minutes":1440,"created_at":"2026-01-07T09:33:01.524919Z","updated_at":"2026-01-07T10:34:55.276589Z","closed_at":"2026-01-07T10:34:55.276589Z","close_reason":"Epic complete: All 14 beads delivered - 4 subsystems with neverthrow integration, 8 READMEs, 101 tests, auto-sync script"}
{"id":"open-harness-9mq.1","title":"Phase 1.1: Create metadata sync script + lefthook integration","description":"Implement scripts/update-readme-metadata.ts. Detects changed READMEs in packages/**/*.md. Updates frontmatter: lastUpdated (ISO 8601), lastCommit (git hash), lastCommitDate. Add pre-commit hook to .lefthook.yml. Test on sample README.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-07T09:33:25.548039Z","updated_at":"2026-01-07T10:09:09.475122Z","closed_at":"2026-01-07T10:09:09.475122Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.1","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:25.561327Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.10","title":"Phase 5.1: Add error handling + JSDoc to compiler","description":"Create runtime/compiler/errors.ts (CompilationError types). Add error handling to compiler.ts, scheduler.ts. Add comprehensive JSDoc.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-07T09:33:26.670331Z","updated_at":"2026-01-07T10:30:27.586688Z","closed_at":"2026-01-07T10:30:27.586688Z","close_reason":"Error handling + tests added for compiler subsystem with comprehensive scheduling tests","dependencies":[{"issue_id":"open-harness-9mq.10","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.67543Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.11","title":"Phase 5.2: Create README + tests for compiler","description":"Create runtime/compiler/README.md (graph compilation, scheduling algorithm, examples). Add YAML frontmatter. Verify tests pass.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-07T09:33:26.79696Z","updated_at":"2026-01-07T10:30:27.589408Z","closed_at":"2026-01-07T10:30:27.589408Z","close_reason":"Error handling + tests added for compiler subsystem with comprehensive scheduling tests","dependencies":[{"issue_id":"open-harness-9mq.11","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.799137Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.12","title":"Phase 6: Organize state subsystem","description":"Create runtime/state/README.md (snapshots, persistence contracts, examples). Add YAML frontmatter. Verify no changes needed (mostly types).","status":"closed","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-07T09:33:26.91607Z","updated_at":"2026-01-07T10:34:55.179137Z","closed_at":"2026-01-07T10:34:55.179137Z","close_reason":"Epic complete: Runtime reorganization + documentation + error handling with neverthrow - all 14 beads finished","dependencies":[{"issue_id":"open-harness-9mq.12","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.918149Z","created_by":"abuusama"}],"comments":[{"id":17,"issue_id":"open-harness-9mq.12","author":"abuusama","text":"Starting Phase 6: State subsystem documentation","created_at":"2026-01-07T10:30:27Z"}]}
{"id":"open-harness-9mq.13","title":"Phase 7: Create master runtime README","description":"Create/update packages/internal/core/src/runtime/README.md as hub. Link to all 4 subsystems. Explain how they work together. Add YAML frontmatter.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-07T09:33:27.042735Z","updated_at":"2026-01-07T10:34:55.18147Z","closed_at":"2026-01-07T10:34:55.18147Z","close_reason":"Epic complete: Runtime reorganization + documentation + error handling with neverthrow - all 14 beads finished","dependencies":[{"issue_id":"open-harness-9mq.13","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:27.046044Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.14","title":"Phase 8: Full validation + cleanup","description":"Run bun run test (all packages). Run bun run typecheck. Run bun run lint. Verify metadata on all READMEs. Clean up dangling imports. Zero regressions.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-07T09:33:27.161152Z","updated_at":"2026-01-07T10:34:55.183488Z","closed_at":"2026-01-07T10:34:55.183488Z","close_reason":"Epic complete: Runtime reorganization + documentation + error handling with neverthrow - all 14 beads finished","dependencies":[{"issue_id":"open-harness-9mq.14","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:27.166643Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.2","title":"Phase 1.2: Create master document + add frontmatter to existing READMEs","description":"Create packages/README.md (master hub). Add YAML frontmatter to packages/internal/core/src/runtime/README.md and all existing package READMEs (title, lastUpdated, lastCommit, lastCommitDate, scope tags). Verify metadata is correct.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-07T09:33:25.689986Z","updated_at":"2026-01-07T10:09:09.483117Z","closed_at":"2026-01-07T10:09:09.483117Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.2","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:25.692471Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.3","title":"Phase 2: Reorganize runtime into 4 subsystems","description":"Create directories: compiler/, execution/, expressions/, state/. Move files to each. Update all imports throughout codebase. Run tests, typecheck, lint. Verify no regressions.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2026-01-07T09:33:25.807057Z","updated_at":"2026-01-07T10:09:09.485482Z","closed_at":"2026-01-07T10:09:09.485482Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.3","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:25.809813Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.4","title":"Phase 3.1: Add error handling layer + neverthrow to expressions","description":"Create runtime/expressions/errors.ts (ExpressionError, ExpressionResult types). Add Result types to expressions.ts, bindings.ts, when.ts. Update internal error handling. Keep external API stable.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-07T09:33:25.930196Z","updated_at":"2026-01-07T10:09:09.488453Z","closed_at":"2026-01-07T10:09:09.488453Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.4","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:25.932243Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.5","title":"Phase 3.2: Add comprehensive JSDoc + README to expressions","description":"Add JSDoc to all public exports in expressions.ts, bindings.ts, when.ts. Create runtime/expressions/README.md with architecture, usage, error codes, examples. Add YAML frontmatter.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-07T09:33:26.056573Z","updated_at":"2026-01-07T10:09:09.491398Z","closed_at":"2026-01-07T10:09:09.491398Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.5","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.058916Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.6","title":"Phase 3.3: Update tests for expressions subsystem","description":"Ensure all tests pass with new error handling. Add tests for Result type branches if missing. Verify zero regressions.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-07T09:33:26.181754Z","updated_at":"2026-01-07T10:09:09.493722Z","closed_at":"2026-01-07T10:09:09.493722Z","close_reason":"All phases completed with comprehensive tests, docs, and zero regressions","dependencies":[{"issue_id":"open-harness-9mq.6","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.184103Z","created_by":"abuusama"}]}
{"id":"open-harness-9mq.7","title":"Phase 4.1: Add error handling layer + neverthrow to execution","description":"Create runtime/execution/errors.ts (ExecutionError, ExecutionResult types). Refactor executor.ts (retry, timeout, validation). Refactor runtime.ts (event bus, commands).","status":"closed","priority":2,"issue_type":"task","estimated_minutes":150,"created_at":"2026-01-07T09:33:26.303458Z","updated_at":"2026-01-07T10:15:26.683453Z","closed_at":"2026-01-07T10:15:26.683453Z","close_reason":"Error handling layer with neverthrow added to executor and runtime with Result-based API","dependencies":[{"issue_id":"open-harness-9mq.7","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.306287Z","created_by":"abuusama"}],"comments":[{"id":14,"issue_id":"open-harness-9mq.7","author":"abuusama","text":"Starting Phase 4.1: Adding error handling layer + neverthrow to execution subsystem (executor.ts, runtime.ts)","created_at":"2026-01-07T10:09:53Z"}]}
{"id":"open-harness-9mq.8","title":"Phase 4.2: Add comprehensive JSDoc + README to execution","description":"Add JSDoc to all public exports. Create runtime/execution/README.md (orchestration, event system, state management, examples). Add YAML frontmatter.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-07T09:33:26.422586Z","updated_at":"2026-01-07T10:17:34.114366Z","closed_at":"2026-01-07T10:17:34.114366Z","close_reason":"Comprehensive documentation created for execution subsystem with examples and error patterns","dependencies":[{"issue_id":"open-harness-9mq.8","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.424466Z","created_by":"abuusama"}],"comments":[{"id":15,"issue_id":"open-harness-9mq.8","author":"abuusama","text":"Starting Phase 4.2: Creating comprehensive documentation for execution subsystem","created_at":"2026-01-07T10:15:26Z"}]}
{"id":"open-harness-9mq.9","title":"Phase 4.3: Update tests for execution subsystem","description":"Verify all integration tests pass. Add Result type tests if needed. Zero regressions in event handling.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-07T09:33:26.547808Z","updated_at":"2026-01-07T10:20:59.613986Z","closed_at":"2026-01-07T10:20:59.613986Z","close_reason":"14 comprehensive tests added for executor Result-based API with retry and cancellation","dependencies":[{"issue_id":"open-harness-9mq.9","depends_on_id":"open-harness-9mq","type":"parent-child","created_at":"2026-01-07T09:33:26.550718Z","created_by":"abuusama"}],"comments":[{"id":16,"issue_id":"open-harness-9mq.9","author":"abuusama","text":"Starting Phase 4.3: Adding tests for execution Result-based API","created_at":"2026-01-07T10:17:34Z"}]}
{"id":"open-harness-9n9","title":"Expressions Subsystem Neverthrow Refactor","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-07T11:29:36.680174Z","updated_at":"2026-01-07T11:29:36.680174Z"}
{"id":"open-harness-9n9.1","title":"Fix evaluateTemplateResult internal consistency","description":"[bd-9n9.1] Expressions Subsystem Neverthrow Refactor: Fix evaluateTemplateResult Internal Consistency\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 1 of 7\nEffort: 1 hour\nDependencies: None\nBlocks: bd-9n9.2\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nFix evaluateTemplateResult() to use evaluateExpressionResult() instead of throwing evaluateExpression() for internal consistency.\n\n---\n\n## WHAT IS THIS?\n\nThis bead fixes an internal inconsistency in expressions.ts where evaluateTemplateResult() (the Result-based variant) calls evaluateExpression() (the throwing version) instead of evaluateExpressionResult() (the Result-based version).\n\nThe issue is on line 275 of expressions.ts:\n- Current: Calls evaluateExpression() which throws\n- Should: Call evaluateExpressionResult() which returns Result\n\nThis ensures the Result-based API is fully self-contained and doesn't leak throwing behavior.\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/expressions.ts (MODIFY: line 275)\n\n---\n\n## WHY DOES THIS MATTER?\n\nWithout this fix, evaluateTemplateResult() is not truly Result-basedâ€”it still throws internally. This breaks the contract that Result variants should never throw.\n\nThis is CRITICAL because:\n1. All Result variants must be internally consistent\n2. Bead 2 (bindings Result variants) depends on this being fixed\n3. Runtime code that uses Result variants expects no exceptions\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom existing codebase:\n- evaluateExpressionResult() already exists and works correctly\n- wrapThrowAsync() helper available from errors.ts\n- Benefit: Simple one-line change to use existing Result variant\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ Line 275 in expressions.ts changed from evaluateExpression() to evaluateExpressionResult()\nâ˜ Result propagation handled correctly through Promise.all chain\nâ˜ evaluateTemplateResult() tests still pass (verify no regressions)\nâ˜ Typecheck passes (0 errors)\nâ˜ Lint passes (0 issues)\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review current implementation\n  Command: read packages/internal/core/src/runtime/expressions/expressions.ts (lines 264-289)\n  What to look for:\n    - evaluateTemplateResult() function structure\n    - Line 275 where evaluateExpression() is called\n    - How Promise.all handles the result\n\nSTEP 2: Fix the internal call\n  Modify: packages/internal/core/src/runtime/expressions/expressions.ts\n  - Change line 275: evaluateExpression() â†’ evaluateExpressionResult()\n  - Handle Result type: Use .map() or extract value from Result\n  - Ensure Promise.all works with Result types correctly\n\nSTEP 3: Verify Result propagation\n  - Check that Promise.all receives Result\u003cstring\u003e from each segment\n  - Use Result.combine() or manual Result handling if needed\n  - Ensure error propagation works correctly\n\nSTEP 4: Run tests\n  Command: bun run test packages/internal/core/tests/unit/expressions.test.ts\n  Expected: All existing tests pass, especially evaluateTemplateResult tests\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors\n\n2. bun run lint\n   Expected: 0 issues\n\n3. bun run test packages/internal/core/tests/unit/expressions.test.ts\n   Expected: All tests pass, especially Result-based tests\n\n4. git status\n   Expected: Working tree clean (all changes committed)\n\n5. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.2: Add Result Variants to bindings.ts - Core Functions\n  Status: UNBLOCKED\n  Why: Depends on expressions.ts Result consistency being fixed\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"Promise.all doesn't work with Result types\"\nA: Use Result.combine() from neverthrow or manually extract values: results.map(r =\u003e r.isOk() ? r.value : throw r.error)\n\nQ: \"Type error: Result\u003cstring\u003e not assignable to string\"\nA: Extract value from Result before joining: const values = await Promise.all(results); const strings = values.map(r =\u003e r.isOk() ? r.value : ''); return strings.join('');\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.1)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: evaluateTemplateResult() now uses evaluateExpressionResult() internally. Ready for bd-9n9.2.\"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T11:30:04.249293Z","updated_at":"2026-01-07T11:38:23.288822Z","closed_at":"2026-01-07T11:38:23.288822Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-9n9.1","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:30:04.257587Z","created_by":"abuusama"}],"comments":[{"id":18,"issue_id":"open-harness-9n9.1","author":"abuusama","text":"âœ… Complete: evaluateTemplateResult() now uses evaluateExpressionResult() internally. Ready for bd-9n9.2.","created_at":"2026-01-07T11:38:23Z"}]}
{"id":"open-harness-9n9.2","title":"Add Result variants to bindings.ts - Core Functions","description":"[bd-9n9.2] Expressions Subsystem Neverthrow Refactor: Add Result Variants to bindings.ts - Core Functions\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 2 of 7\nEffort: 3 hours\nDependencies: bd-9n9.1\nBlocks: bd-9n9.3\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nAdd resolveBindingStringResult() and resolveValueResult() (internal) Result variants to bindings.ts using wrapThrowAsync pattern.\n\n---\n\n## WHAT IS THIS?\n\nThis bead adds Result-based error handling to the core binding resolution functions in bindings.ts. Currently, resolveBindingString() and resolveValue() call throwing APIs (evaluateExpression, evaluateTemplate) without Result wrappers.\n\nWe add:\n- resolveBindingStringResult(): Promise\u003cExpressionResult\u003cunknown\u003e\u003e\n- resolveValueResult(): Promise\u003cExpressionResult\u003cunknown\u003e\u003e (internal)\n\nThese functions wrap the existing throwing APIs using wrapThrowAsync() from errors.ts, following the same pattern as expressions.ts.\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/bindings.ts (MODIFY: add 2 new functions)\n\n---\n\n## WHY DOES THIS MATTER?\n\nBindings are used throughout the runtime for input/output resolution. Without Result variants, runtime code cannot handle binding errors gracefullyâ€”they must catch exceptions.\n\nThis is CRITICAL because:\n1. Runtime.ts uses resolveBindings() extensively (lines 416, 624, 671)\n2. Enables structured error handling in runtime execution\n3. Bead 3 depends on these core functions being Result-based\n4. Foundation for neverthrow adoption across runtime\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.1: evaluateTemplateResult() now uses evaluateExpressionResult() internally\n- Benefit: Can safely call evaluateTemplateResult() without exceptions\n- Can use evaluateExpressionResult() directly in resolveBindingStringResult()\n\nFrom existing codebase:\n- wrapThrowAsync() helper available from errors.ts\n- ExpressionResult\u003cT\u003e type already defined\n- Benefit: Follow exact same pattern as expressions.ts\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ resolveBindingStringResult() function created and exported\nâ˜ resolveValueResult() function created (internal, not exported)\nâ˜ Both functions use wrapThrowAsync(\"EVALUATION_ERROR\", ...)\nâ˜ Both functions return Promise\u003cExpressionResult\u003cT\u003e\u003e\nâ˜ Internal calls use evaluateExpressionResult() and evaluateTemplateResult()\nâ˜ Typecheck passes (0 errors)\nâ˜ Lint passes (0 issues)\nâ˜ Unit tests added for both functions (success + error cases)\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review existing bindings.ts structure\n  Command: read packages/internal/core/src/runtime/expressions/bindings.ts\n  What to look for:\n    - resolveBindingString() implementation (lines 29-45)\n    - resolveValue() implementation (lines 64-89)\n    - How they call evaluateExpression() and evaluateTemplate()\n\nSTEP 2: Review expressions.ts Result pattern\n  Command: read packages/internal/core/src/runtime/expressions/expressions.ts (lines 237-313)\n  What to look for:\n    - How evaluateExpressionResult() is structured\n    - How wrapThrowAsync() is used\n    - Result propagation patterns\n\nSTEP 3: Implement resolveBindingStringResult()\n  Modify: packages/internal/core/src/runtime/expressions/bindings.ts\n  - Create new function: resolveBindingStringResult()\n  - Use wrapThrowAsync(\"EVALUATION_ERROR\", async () =\u003e { ... })\n  - Inside wrapper, call evaluateExpressionResult() instead of evaluateExpression()\n  - Call evaluateTemplateResult() instead of evaluateTemplate()\n  - Return ExpressionResult\u003cunknown\u003e\n\nSTEP 4: Implement resolveValueResult() (internal)\n  Modify: packages/internal/core/src/runtime/expressions/bindings.ts\n  - Create new function: resolveValueResult() (don't export)\n  - Handle string case: call resolveBindingStringResult()\n  - Handle array case: use Promise.all with resolveValueResult() recursively\n  - Handle object case: use Promise.all with resolveValueResult() recursively\n  - Return ExpressionResult\u003cunknown\u003e\n\nSTEP 5: Write tests\n  Create/Modify: packages/internal/core/tests/unit/bindings.test.ts\n  - Test resolveBindingStringResult() success cases\n  - Test resolveBindingStringResult() error cases (syntax errors)\n  - Test resolveValueResult() with nested objects/arrays\n  - Test Result.match() patterns\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors\n\n2. bun run lint\n   Expected: 0 issues\n\n3. bun run test packages/internal/core/tests/unit/bindings.test.ts\n   Expected: All tests pass, including new Result variant tests\n\n4. git status\n   Expected: Working tree clean (all changes committed)\n\n5. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.3: Add Result Variants to bindings.ts - Recursive Resolution\n  Status: UNBLOCKED\n  Why: Depends on core functions (resolveBindingStringResult, resolveValueResult) being available\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"How do I handle Result types in Promise.all for arrays?\"\nA: Use Result.combine() from neverthrow: const results = await Promise.all(items.map(item =\u003e resolveValueResult(item, context))); return Result.combine(results);\n\nQ: \"resolveValueResult() needs to call resolveBindingStringResult() but it's async\"\nA: await the Result, then handle: const result = await resolveBindingStringResult(value, context); if (result.isErr()) return err(result.error); return ok(result.value);\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.2)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: resolveBindingStringResult() and resolveValueResult() added. Ready for bd-9n9.3.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:30:36.795388Z","updated_at":"2026-01-07T11:30:36.795388Z","dependencies":[{"issue_id":"open-harness-9n9.2","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:30:36.803806Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.2","depends_on_id":"open-harness-9n9.1","type":"blocks","created_at":"2026-01-07T11:32:48.854592Z","created_by":"abuusama"}]}
{"id":"open-harness-9n9.3","title":"Add Result variants to bindings.ts - Recursive Resolution","description":"[bd-9n9.3] Expressions Subsystem Neverthrow Refactor: Add Result Variants to bindings.ts - Recursive Resolution\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 3 of 7\nEffort: 2 hours\nDependencies: bd-9n9.2\nBlocks: bd-9n9.4\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nAdd resolveBindingsResult() with proper Result propagation through recursive object/array resolution.\n\n---\n\n## WHAT IS THIS?\n\nThis bead adds the public-facing Result variant for resolveBindings(). It wraps resolveValueResult() (from bead 2) and handles the type conversion from ExpressionResult\u003cunknown\u003e to ExpressionResult\u003cT\u003e.\n\nThe function must:\n- Accept the same input as resolveBindings()\n- Use resolveValueResult() internally\n- Return ExpressionResult\u003cT\u003e with proper type inference\n- Handle recursive resolution of nested objects/arrays\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/bindings.ts (MODIFY: add resolveBindingsResult())\n\n---\n\n## WHY DOES THIS MATTER?\n\nresolveBindings() is the main entry point for binding resolution in the runtime. Without a Result variant, runtime.ts cannot handle binding errors gracefully.\n\nThis is CRITICAL because:\n1. Runtime.ts calls resolveBindings() in 3+ places (lines 416, 624, 671)\n2. Enables structured error handling for input resolution\n3. Bead 4 (when.ts) can use this pattern as reference\n4. Foundation for runtime.ts neverthrow migration (future work)\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.2: resolveBindingStringResult() and resolveValueResult() available\n- Benefit: Can use resolveValueResult() directly\n- Result propagation through Promise.all already handled\n\nFrom existing codebase:\n- resolveBindings() implementation shows the pattern (lines 54-59)\n- Type inference pattern: \u003cT extends Record\u003cstring, unknown\u003e\u003e\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ resolveBindingsResult\u003cT\u003e() function created and exported\nâ˜ Function signature: resolveBindingsResult\u003cT extends Record\u003cstring, unknown\u003e\u003e(input: T, context: BindingContext): Promise\u003cExpressionResult\u003cT\u003e\u003e\nâ˜ Uses resolveValueResult() internally\nâ˜ Type inference works correctly (T preserved in Result)\nâ˜ Typecheck passes (0 errors)\nâ˜ Lint passes (0 issues)\nâ˜ Unit tests added (success + error cases, nested objects/arrays)\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review resolveBindings() implementation\n  Command: read packages/internal/core/src/runtime/expressions/bindings.ts (lines 54-59)\n  What to look for:\n    - How it calls resolveValue()\n    - Type casting pattern: as Promise\u003cT\u003e\n\nSTEP 2: Review resolveValueResult() from bead 2\n  Command: read packages/internal/core/src/runtime/expressions/bindings.ts\n  What to look for:\n    - How resolveValueResult() handles recursive resolution\n    - Result propagation through Promise.all\n\nSTEP 3: Implement resolveBindingsResult()\n  Modify: packages/internal/core/src/runtime/expressions/bindings.ts\n  - Create: resolveBindingsResult\u003cT extends Record\u003cstring, unknown\u003e\u003e()\n  - Call resolveValueResult(input, context)\n  - Cast result: result.map(value =\u003e value as T)\n  - Return ExpressionResult\u003cT\u003e\n\nSTEP 4: Write tests\n  Modify: packages/internal/core/tests/unit/bindings.test.ts\n  - Test resolveBindingsResult() with simple object\n  - Test resolveBindingsResult() with nested objects\n  - Test resolveBindingsResult() with arrays\n  - Test resolveBindingsResult() error cases\n  - Test type inference (T preserved)\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors, type inference works\n\n2. bun run lint\n   Expected: 0 issues\n\n3. bun run test packages/internal/core/tests/unit/bindings.test.ts\n   Expected: All tests pass, including resolveBindingsResult tests\n\n4. git status\n   Expected: Working tree clean (all changes committed)\n\n5. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.4: Add Result Variants to when.ts\n  Status: UNBLOCKED\n  Why: Can follow same pattern as bindings.ts Result variants\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"Type error: ExpressionResult\u003cunknown\u003e not assignable to ExpressionResult\u003cT\u003e\"\nA: Use .map() to cast: result.map(value =\u003e value as T)\n\nQ: \"Type inference doesn't work\"\nA: Ensure generic constraint: \u003cT extends Record\u003cstring, unknown\u003e\u003e\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.3)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: resolveBindingsResult() added with proper Result propagation. Ready for bd-9n9.4.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:31:18.133664Z","updated_at":"2026-01-07T11:31:18.133664Z","dependencies":[{"issue_id":"open-harness-9n9.3","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:31:18.149836Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.3","depends_on_id":"open-harness-9n9.2","type":"blocks","created_at":"2026-01-07T11:32:48.946041Z","created_by":"abuusama"}]}
{"id":"open-harness-9n9.4","title":"Add Result variants to when.ts","description":"[bd-9n9.4] Expressions Subsystem Neverthrow Refactor: Add Result Variants to when.ts\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 4 of 7\nEffort: 2 hours\nDependencies: bd-9n9.3\nBlocks: bd-9n9.5\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nAdd evaluateWhenResult() and evaluateWhenASTResult() (internal) Result variants to when.ts using evaluateExpressionResult().\n\n---\n\n## WHAT IS THIS?\n\nThis bead adds Result-based error handling to when condition evaluation. Currently, evaluateWhen() and evaluateWhenAST() call throwing evaluateExpression() without Result wrappers.\n\nWe add:\n- evaluateWhenResult(): Promise\u003cExpressionResult\u003cboolean\u003e\u003e\n- evaluateWhenASTResult(): Promise\u003cExpressionResult\u003cboolean\u003e\u003e (internal)\n\nThese functions use evaluateExpressionResult() instead of evaluateExpression(), and handle Result propagation through boolean logic (and/or/not).\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/when.ts (MODIFY: add 2 new functions)\n\n---\n\n## WHY DOES THIS MATTER?\n\nWhen conditions are evaluated throughout the runtime for node/edge execution decisions. Without Result variants, runtime cannot handle evaluation errors gracefully.\n\nThis is CRITICAL because:\n1. Runtime.ts calls evaluateWhen() in 2+ places (lines 381, 580, 646)\n2. Enables structured error handling for conditional execution\n3. Bead 5 (exports/tests) depends on this being complete\n4. Foundation for runtime.ts neverthrow migration (future work)\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.3: resolveBindingsResult() pattern established\n- Benefit: Can follow same Result propagation pattern\n- Result.combine() usage examples available\n\nFrom existing codebase:\n- evaluateExpressionResult() available from expressions.ts\n- wrapThrowAsync() helper available from errors.ts\n- ExpressionResult\u003cT\u003e type already defined\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ evaluateWhenResult() function created and exported\nâ˜ evaluateWhenASTResult() function created (internal, not exported)\nâ˜ Both functions use evaluateExpressionResult() instead of evaluateExpression()\nâ˜ Both functions return Promise\u003cExpressionResult\u003cboolean\u003e\u003e\nâ˜ Boolean logic (and/or/not) handles Result types correctly\nâ˜ Typecheck passes (0 errors)\nâ˜ Lint passes (0 issues)\nâ˜ Unit tests added for both functions (success + error cases)\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review existing when.ts structure\n  Command: read packages/internal/core/src/runtime/expressions/when.ts\n  What to look for:\n    - evaluateWhen() implementation (lines 85-105)\n    - evaluateWhenAST() implementation (lines 20-59)\n    - How they call evaluateExpression()\n\nSTEP 2: Review evaluateExpressionResult() usage\n  Command: read packages/internal/core/src/runtime/expressions/expressions.ts (lines 237-256)\n  What to look for:\n    - How evaluateExpressionResult() returns Result\u003cunknown\u003e\n    - How to coerce Result\u003cunknown\u003e to Result\u003cboolean\u003e\n\nSTEP 3: Implement evaluateWhenASTResult() (internal)\n  Modify: packages/internal/core/src/runtime/expressions/when.ts\n  - Create new function: evaluateWhenASTResult()\n  - Replace evaluateExpression() calls with evaluateExpressionResult()\n  - Handle Result propagation:\n    - equals: await result, check isOk(), extract value, compare\n    - not: await evaluateWhenASTResult(), check isOk(), negate\n    - and: await all, check all isOk(), return ok(true) if all true\n    - or: await all, return ok(true) if any true, else ok(false)\n  - Return ExpressionResult\u003cboolean\u003e\n\nSTEP 4: Implement evaluateWhenResult()\n  Modify: packages/internal/core/src/runtime/expressions/when.ts\n  - Create new function: evaluateWhenResult()\n  - Handle undefined/null: return ok(true)\n  - Handle string: call evaluateExpressionResult(), coerce to boolean\n  - Handle AST: call evaluateWhenASTResult()\n  - Return ExpressionResult\u003cboolean\u003e\n\nSTEP 5: Write tests\n  Create/Modify: packages/internal/core/tests/unit/when.test.ts\n  - Test evaluateWhenResult() with JSONata strings\n  - Test evaluateWhenResult() with AST format\n  - Test evaluateWhenASTResult() with equals/not/and/or\n  - Test error cases (syntax errors)\n  - Test Result.match() patterns\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors\n\n2. bun run lint\n   Expected: 0 issues\n\n3. bun run test packages/internal/core/tests/unit/when.test.ts\n   Expected: All tests pass, including new Result variant tests\n\n4. git status\n   Expected: Working tree clean (all changes committed)\n\n5. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.5: Update Exports and Tests\n  Status: UNBLOCKED\n  Why: All Result variants now implemented, ready for export and comprehensive testing\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"How do I handle Result types in boolean logic (and/or)?\"\nA: Use Result.combine() for arrays: const results = await Promise.all(items.map(item =\u003e evaluateWhenASTResult(item, context))); const combined = Result.combine(results); if (combined.isErr()) return err(combined.error); const values = combined.value; return ok(values.every(v =\u003e v));\n\nQ: \"How do I coerce Result\u003cunknown\u003e to Result\u003cboolean\u003e?\"\nA: Use .map(): result.map(value =\u003e Boolean(value))\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.4)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: evaluateWhenResult() and evaluateWhenASTResult() added. Ready for bd-9n9.5.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:31:29.98088Z","updated_at":"2026-01-07T11:31:29.98088Z","dependencies":[{"issue_id":"open-harness-9n9.4","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:31:29.987252Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.4","depends_on_id":"open-harness-9n9.3","type":"blocks","created_at":"2026-01-07T11:32:49.036606Z","created_by":"abuusama"}]}
{"id":"open-harness-9n9.5","title":"Update exports and tests","description":"[bd-9n9.5] Expressions Subsystem Neverthrow Refactor: Update Exports and Tests\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 5 of 7\nEffort: 3 hours\nDependencies: bd-9n9.4\nBlocks: bd-9n9.6\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nUpdate index.ts exports and add comprehensive tests for all new Result variants.\n\n---\n\n## WHAT IS THIS?\n\nThis bead ensures all new Result variants are properly exported and thoroughly tested. It:\n1. Updates expressions/index.ts to export new Result variants\n2. Adds comprehensive test coverage for all Result variants\n3. Verifies integration between Result variants\n4. Ensures no regressions in existing functionality\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/index.ts (MODIFY: add exports)\n- packages/internal/core/tests/unit/bindings.test.ts (MODIFY: add Result tests)\n- packages/internal/core/tests/unit/when.test.ts (MODIFY: add Result tests)\n- packages/internal/core/tests/unit/expressions.test.ts (MODIFY: verify existing tests still pass)\n\n---\n\n## WHY DOES THIS MATTER?\n\nWithout proper exports, the Result variants cannot be used by runtime.ts or other consumers. Without comprehensive tests, we cannot verify the Result variants work correctly.\n\nThis is CRITICAL because:\n1. Runtime.ts will eventually use these Result variants (future work)\n2. Tests prove the Result variants work as expected\n3. Bead 6 (documentation) needs working examples to reference\n4. Quality gate: All tests must pass before documentation\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.4: All Result variants implemented\n- Benefit: Can now export and test all variants\n- resolveBindingsResult(), resolveBindingStringResult(), evaluateWhenResult() all available\n\nFrom bd-9n9.1-9n9.4: All internal implementations complete\n- Benefit: Can write integration tests across all Result variants\n- Can verify Result propagation through full binding resolution chain\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ index.ts exports all new Result variants:\n  - resolveBindingStringResult\n  - resolveBindingsResult\n  - evaluateWhenResult\nâ˜ All Result variants marked @internal in JSDoc\nâ˜ Comprehensive tests added for:\n  - resolveBindingStringResult (success + error cases)\n  - resolveBindingsResult (nested objects/arrays, error cases)\n  - evaluateWhenResult (JSONata strings, AST format, error cases)\nâ˜ Integration tests verify Result propagation through full chains\nâ˜ All existing tests still pass (no regressions)\nâ˜ Typecheck passes (0 errors)\nâ˜ Lint passes (0 issues)\nâ˜ Test coverage: 80%+ for new Result variants\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review current exports\n  Command: read packages/internal/core/src/runtime/expressions/index.ts\n  What to look for:\n    - Current export structure\n    - Which Result variants are already exported (evaluateExpressionResult, etc.)\n\nSTEP 2: Update index.ts exports\n  Modify: packages/internal/core/src/runtime/expressions/index.ts\n  - Add: export { resolveBindingStringResult, resolveBindingsResult } from \"./bindings.js\";\n  - Add: export { evaluateWhenResult } from \"./when.js\";\n  - Verify: All exports are marked @internal in source files\n\nSTEP 3: Review existing test structure\n  Command: read packages/internal/core/tests/unit/expressions.test.ts (lines 378-630)\n  What to look for:\n    - How Result-based tests are structured\n    - Test patterns for Result.match(), Result.isOk(), Result.isErr()\n\nSTEP 4: Add bindings Result tests\n  Modify: packages/internal/core/tests/unit/bindings.test.ts\n  - Test resolveBindingStringResult() success cases (pure binding, mixed template)\n  - Test resolveBindingStringResult() error cases (syntax errors)\n  - Test resolveBindingsResult() with simple object\n  - Test resolveBindingsResult() with nested objects\n  - Test resolveBindingsResult() with arrays\n  - Test resolveBindingsResult() error propagation\n  - Test Result.match() patterns\n\nSTEP 5: Add when Result tests\n  Create/Modify: packages/internal/core/tests/unit/when.test.ts\n  - Test evaluateWhenResult() with JSONata strings (success + error)\n  - Test evaluateWhenResult() with AST format (equals, not, and, or)\n  - Test evaluateWhenResult() with undefined/null (should return ok(true))\n  - Test error propagation through boolean logic\n  - Test Result.match() patterns\n\nSTEP 6: Add integration tests\n  Create/Modify: packages/internal/core/tests/unit/expressions-integration.test.ts (optional)\n  - Test full chain: resolveBindingsResult() â†’ evaluateWhenResult()\n  - Test error propagation through multiple Result calls\n  - Test Result.combine() usage patterns\n\nSTEP 7: Verify no regressions\n  Command: bun run test packages/internal/core/tests/unit/expressions.test.ts\n  Expected: All existing tests pass, especially evaluateTemplateResult tests\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors\n\n2. bun run lint\n   Expected: 0 issues\n\n3. bun run test packages/internal/core/tests/unit/\n   Expected: All tests pass, including new Result variant tests\n   Coverage: 80%+ for new functions\n\n4. Verify exports\n   Command: bun run typecheck (should not have \"not exported\" errors)\n\n5. git status\n   Expected: Working tree clean (all changes committed)\n\n6. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.6: Update Documentation\n  Status: UNBLOCKED\n  Why: All Result variants implemented and tested, ready to document\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"Test fails: resolveBindingsResult() returns wrong type\"\nA: Verify type casting in resolveBindingsResult(): result.map(value =\u003e value as T)\n\nQ: \"Export error: resolveBindingStringResult is not exported\"\nA: Check bindings.ts exports the function, then add to index.ts\n\nQ: \"Test coverage too low\"\nA: Add more edge cases: empty objects, null values, deeply nested structures\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.5)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: All Result variants exported and tested. Ready for bd-9n9.6.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:31:54.617966Z","updated_at":"2026-01-07T11:31:54.617966Z","dependencies":[{"issue_id":"open-harness-9n9.5","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:31:54.626835Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.5","depends_on_id":"open-harness-9n9.4","type":"blocks","created_at":"2026-01-07T11:32:49.128076Z","created_by":"abuusama"}]}
{"id":"open-harness-9n9.6","title":"Update documentation","description":"[bd-9n9.6] Expressions Subsystem Neverthrow Refactor: Update Documentation\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 6 of 7\nEffort: 2 hours\nDependencies: bd-9n9.5\nBlocks: bd-9n9.7\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nUpdate expressions/README.md with Result-based API examples and error handling documentation.\n\n---\n\n## WHAT IS THIS?\n\nThis bead updates the expressions subsystem documentation to include all new Result variants. It adds:\n1. Result-based API examples for bindings and when conditions\n2. Error handling section showing Result.match() patterns\n3. Updated architecture diagram showing Result variants\n4. Cross-references between throwing and Result-based APIs\n\nFiles affected:\n- packages/internal/core/src/runtime/expressions/README.md (MODIFY: add Result sections)\n\n---\n\n## WHY DOES THIS MATTER?\n\nDocumentation is the primary way developers learn to use the Result variants. Without proper docs, the Result variants will be unused or misused.\n\nThis is CRITICAL because:\n1. Runtime.ts developers need to know Result variants exist\n2. Examples show correct usage patterns\n3. Error handling documentation prevents common mistakes\n4. Bead 7 (validation) verifies docs are accurate\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.5: All Result variants exported and tested\n- Benefit: Can write accurate examples from working code\n- Test cases provide usage patterns to document\n\nFrom bd-9n9.1-9n9.5: All implementations complete\n- Benefit: Can document complete Result-based API\n- Can show integration patterns between Result variants\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ README.md updated with Result-based API section for bindings\nâ˜ README.md updated with Result-based API section for when conditions\nâ˜ Error handling section shows Result.match() patterns\nâ˜ Examples use actual Result variants (not fabricated)\nâ˜ Architecture diagram updated to show Result variants\nâ˜ Cross-references between throwing and Result-based APIs\nâ˜ YAML frontmatter updated (lastUpdated, lastCommit will auto-sync)\nâ˜ No broken internal links\nâ˜ Lint/spell check passed\nâ˜ All changes committed and pushed\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Review current README structure\n  Command: read packages/internal/core/src/runtime/expressions/README.md\n  What to look for:\n    - Current \"Error Handling (Result-Based)\" section (lines 113-128)\n    - \"Bindings (Framework Internal)\" section (lines 86-97)\n    - \"Conditions (When Clauses)\" section (lines 99-111)\n\nSTEP 2: Review other README examples\n  Command: read packages/internal/core/src/runtime/execution/README.md (lines 79-109)\n  What to look for:\n    - How Result-based API examples are structured\n    - Error handling patterns with match()\n\nSTEP 3: Update \"Bindings (Framework Internal)\" section\n  Modify: packages/internal/core/src/runtime/expressions/README.md\n  - Add subsection: \"Result-Based API\"\n  - Show resolveBindingStringResult() example\n  - Show resolveBindingsResult() example\n  - Show error handling with Result.match()\n  - Cross-reference to throwing API (resolveBindings)\n\nSTEP 4: Update \"Conditions (When Clauses)\" section\n  Modify: packages/internal/core/src/runtime/expressions/README.md\n  - Add subsection: \"Result-Based API\"\n  - Show evaluateWhenResult() example\n  - Show error handling with Result.match()\n  - Cross-reference to throwing API (evaluateWhen)\n\nSTEP 5: Update \"Error Handling (Result-Based)\" section\n  Modify: packages/internal/core/src/runtime/expressions/README.md\n  - Add bindings Result variant examples\n  - Add when Result variant examples\n  - Show integration: resolveBindingsResult() + evaluateWhenResult()\n  - Document error codes used by each function\n\nSTEP 6: Update architecture diagram\n  Modify: packages/internal/core/src/runtime/expressions/README.md (lines 27-39)\n  - Add Result variants layer:\n    - resolveBindingStringResult / resolveBindingsResult\n    - evaluateWhenResult\n  - Show relationship to throwing APIs\n\nSTEP 7: Verify links and formatting\n  - Check all internal links work\n  - Verify code examples are properly formatted\n  - Run spell check\n\n---\n\n## HOW TO VALIDATE\n\n1. Read README.md visually\n   Expected: Clear structure, examples are readable\n\n2. Verify code examples\n   Command: Copy examples to test file, verify they compile\n   Expected: All examples are valid TypeScript\n\n3. Check internal links\n   Command: grep -r \"\\[.*\\]\\(.*\\)\" packages/internal/core/src/runtime/expressions/README.md\n   Expected: All links point to valid sections/files\n\n4. bun run lint\n   Expected: 0 issues (markdown linting)\n\n5. git status\n   Expected: Working tree clean (all changes committed)\n\n6. git push\n   Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- bd-9n9.7: Validation and Final Commit\n  Status: UNBLOCKED\n  Why: Documentation complete, ready for final validation\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"Code example doesn't compile\"\nA: Copy example to test file, fix syntax, update README\n\nQ: \"Link broken\"\nA: Verify relative path is correct, check file/section exists\n\nQ: \"YAML frontmatter format wrong\"\nA: Copy format from existing README files, update metadata fields\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ Changes pushed to remote\nâ˜ Beads issue closed (bd close open-harness-9n9.6)\nâ˜ Beads synced (bd sync)\n\nWhen done, comment:\n\"âœ… Complete: Documentation updated with Result-based API examples. Ready for bd-9n9.7.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:32:15.559225Z","updated_at":"2026-01-07T11:32:15.559225Z","dependencies":[{"issue_id":"open-harness-9n9.6","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:32:15.566822Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.6","depends_on_id":"open-harness-9n9.5","type":"blocks","created_at":"2026-01-07T11:32:49.220552Z","created_by":"abuusama"}]}
{"id":"open-harness-9n9.7","title":"Validation and final commit","description":"[bd-9n9.7] Expressions Subsystem Neverthrow Refactor: Validation and Final Commit\n\nEpic: open-harness-9n9 (Expressions Subsystem Neverthrow Refactor)\nBead: 7 of 7\nEffort: 1 hour\nDependencies: bd-9n9.6\nBlocks: None (epic complete)\nCritical Path: YES\n\n---\n\n## ONE-LINE SUMMARY\nRun all quality gates, verify acceptance criteria, and finalize the expressions subsystem neverthrow refactor.\n\n---\n\n## WHAT IS THIS?\n\nThis bead is the final validation step for the entire epic. It:\n1. Runs all quality gates (typecheck, lint, test)\n2. Verifies all epic acceptance criteria are met\n3. Ensures no regressions in existing functionality\n4. Finalizes git commits and pushes to remote\n\nThis is a verification and cleanup beadâ€”no new code changes unless issues are found.\n\nFiles affected:\n- None (unless fixes needed)\n- Git: Final commit and push\n\n---\n\n## WHY DOES THIS MATTER?\n\nWithout final validation, we cannot guarantee the refactor is complete and correct. This bead ensures:\n1. All code compiles and passes tests\n2. All acceptance criteria from the epic are met\n3. No regressions introduced\n4. Changes are properly committed and pushed\n\nThis is CRITICAL because:\n1. Epic is not complete until all quality gates pass\n2. Runtime.ts depends on expressions subsystem being stable\n3. Future neverthrow work depends on this pattern being correct\n\n---\n\n## WHAT CHANGED IN DEPENDENCIES?\n\nFrom bd-9n9.6: Documentation complete\n- Benefit: Can verify examples in docs match actual code\n- Can verify all Result variants are documented\n\nFrom bd-9n9.1-9n9.6: All implementation complete\n- Benefit: Can run comprehensive validation\n- All Result variants implemented, tested, exported, documented\n\n---\n\n## YOUR ACCEPTANCE CRITERIA\n\nâ˜ All epic acceptance criteria verified:\n  - evaluateTemplateResult() uses evaluateExpressionResult() internally âœ…\n  - bindings.ts has 3 Result variants âœ…\n  - when.ts has 2 Result variants âœ…\n  - All Result variants exported from index.ts âœ…\n  - README.md updated with Result-based examples âœ…\nâ˜ bun run typecheck: 0 errors\nâ˜ bun run lint: 0 issues\nâ˜ bun run test: All tests pass (existing + new)\nâ˜ No regressions: All existing functionality still works\nâ˜ Git status: Working tree clean\nâ˜ Git push: All changes pushed to remote\nâ˜ Epic summary comment added to open-harness-9n9\n\n---\n\n## HOW TO DO IT\n\nSTEP 1: Run typecheck\n  Command: bun run typecheck\n  Expected: All packages pass, 0 errors\n  If errors: Fix type issues, re-run\n\nSTEP 2: Run lint\n  Command: bun run lint\n  Expected: All packages pass, 0 issues\n  If issues: Fix lint errors, re-run\n\nSTEP 3: Run tests\n  Command: bun run test\n  Expected: All tests pass, especially:\n    - packages/internal/core/tests/unit/expressions.test.ts\n    - packages/internal/core/tests/unit/bindings.test.ts\n    - packages/internal/core/tests/unit/when.test.ts\n  If failures: Fix test issues, re-run\n\nSTEP 4: Verify no regressions\n  Command: git diff HEAD~7 HEAD --stat\n  Expected: Review changed files, verify no unexpected changes\n  Check: Runtime.ts still works (if possible, run integration test)\n\nSTEP 5: Verify git status\n  Command: git status\n  Expected: Working tree clean (all changes committed)\n  If dirty: git add . \u0026\u0026 git commit -m \"...\"\n\nSTEP 6: Verify git push\n  Command: git push\n  Expected: Successfully pushed to feat/neverthrow-expressions-subsystem\n  If rejected: git pull --rebase, resolve conflicts, push again\n\nSTEP 7: Add epic summary\n  Command: bd comment open-harness-9n9 \"Epic complete: All 7 beads finished. Expressions subsystem now has complete neverthrow Result-based API.\"\n  Expected: Comment added successfully\n\nSTEP 8: Close epic (if all beads closed)\n  Command: bd close open-harness-9n9\n  Expected: Epic marked as closed\n\n---\n\n## HOW TO VALIDATE\n\n1. bun run typecheck\n   Expected: 0 errors across all packages\n\n2. bun run lint\n   Expected: 0 issues across all packages\n\n3. bun run test\n   Expected: All tests pass, coverage maintained or improved\n\n4. git log --oneline -7\n   Expected: 7 commits, one per bead, all properly formatted\n\n5. git diff origin/feat/neverthrow-expressions-subsystem\n   Expected: No uncommitted changes\n\n6. bd show open-harness-9n9\n   Expected: All child beads closed, epic can be closed\n\n---\n\n## WHAT UNBLOCKS NEXT\n\n- Future work: Runtime.ts neverthrow migration\n  Status: READY (can start after this epic)\n  Why: Expressions subsystem Result variants are now available for runtime.ts to use\n\n- Future work: Compiler/Executor neverthrow migration\n  Status: READY (can start after this epic)\n  Why: Pattern established, can replicate in other subsystems\n\n---\n\n## TROUBLESHOOTING\n\nQ: \"Typecheck fails with 'Cannot find module'\"\nA: Clear cache: bun install \u0026\u0026 bun run typecheck\n\nQ: \"Tests fail but worked in previous beads\"\nA: Check for merge conflicts, verify all changes from previous beads are present\n\nQ: \"Git push rejected\"\nA: Pull and rebase: git pull --rebase origin feat/neverthrow-expressions-subsystem\n\nQ: \"Epic won't close\"\nA: Verify all child beads are closed: bd list --parent open-harness-9n9\n\n---\n\n## HAND-OFF CHECKLIST\n\nâ˜ All acceptance criteria âœ…\nâ˜ All validation steps passed\nâ˜ All changes pushed to remote\nâ˜ All child beads closed\nâ˜ Epic closed (bd close open-harness-9n9)\nâ˜ Beads synced (bd sync)\nâ˜ Epic summary comment added\n\nWhen done, comment:\n\"âœ… Epic Complete: Expressions subsystem neverthrow refactor finished. All 7 beads complete, all quality gates passed, changes pushed to remote. Ready for runtime.ts neverthrow migration.\"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:32:36.452103Z","updated_at":"2026-01-07T11:32:36.452103Z","dependencies":[{"issue_id":"open-harness-9n9.7","depends_on_id":"open-harness-9n9","type":"parent-child","created_at":"2026-01-07T11:32:36.458245Z","created_by":"abuusama"},{"issue_id":"open-harness-9n9.7","depends_on_id":"open-harness-9n9.6","type":"blocks","created_at":"2026-01-07T11:32:49.311922Z","created_by":"abuusama"}]}
{"id":"open-harness-a53","title":"Implement Codex provider trait","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T17:47:57.535274Z","updated_at":"2026-01-07T17:47:57.535274Z","comments":[{"id":21,"issue_id":"open-harness-a53","author":"abuusama","text":"Spec: specs/providers/codex-prompt.md (use base-context.md). Implement provider trait in packages/providers/codex, map SDK events to StreamEvent, support threadId resume + structured output, abort handling, real SDK integration tests + fixture recording per policy.","created_at":"2026-01-07T17:48:06Z"}]}
{"id":"open-harness-a8k","title":"E4.1: Framework - React Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: React: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.99613Z","updated_at":"2026-01-07T11:18:38.99613Z"}
{"id":"open-harness-a9y","title":"Phase 4: Create expression language documentation","description":"Create expressions.md reference, update loop-edges.md examples","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T19:02:28.596993Z","updated_at":"2026-01-04T20:47:45.229428Z","closed_at":"2026-01-04T19:59:55.60813Z","dependencies":[{"issue_id":"open-harness-a9y","depends_on_id":"open-harness-6l2","type":"blocks","created_at":"2026-01-04T19:02:51.131262Z","created_by":"abuusama"}]}
{"id":"open-harness-ahu","title":"E2.7: Persistence - Testing Store Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Testing store: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:36.244749Z","updated_at":"2026-01-07T11:18:36.244749Z"}
{"id":"open-harness-awq","title":"Documentation \u0026 Onboarding","description":"Contributor guides, templates, and access controls for new contributors (human and agent)","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-05T09:00:54.547255Z","updated_at":"2026-01-05T16:01:56.101684Z","closed_at":"2026-01-05T16:01:56.101684Z","close_reason":"Closed"}
{"id":"open-harness-bhh","title":"Set up lefthook + lint-staged for pre-commit hooks","description":"Configure pre-commit hooks to catch issues before they're committed.\n\n## Tasks\n- [ ] Install lefthook (or husky - decide which)\n- [ ] Configure lint-staged for staged files only\n- [ ] Pre-commit: biome check --staged\n- [ ] Pre-commit: typecheck (optional - might be slow)\n- [ ] Pre-push: full test suite (optional)\n- [ ] Document in CONTRIBUTING.md\n\n## Notes\n- Must work with bun\n- Should be fast (\u003c5s for lint)\n- Consider biome's --staged flag","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:40:20.914766Z","updated_at":"2026-01-05T09:48:19.780161Z","closed_at":"2026-01-05T09:48:19.780161Z","dependencies":[{"issue_id":"open-harness-bhh","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T09:56:34.064642Z","created_by":"abuusama"}]}
{"id":"open-harness-by7","title":"Agent Workflow Automation","description":"Scripts and workflows enabling multi-agent parallel development with beads","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-05T09:00:51.418426Z","updated_at":"2026-01-05T09:00:51.418426Z"}
{"id":"open-harness-bz6","title":"E3.9: Server - @open-harness/server Result API Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/server: Test Result API.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.248182Z","updated_at":"2026-01-07T11:18:38.248182Z"}
{"id":"open-harness-c7a","title":"E5.5: Final - Performance Validation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Performance validation.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:41.273328Z","updated_at":"2026-01-07T11:18:41.273328Z"}
{"id":"open-harness-d54","title":"Fix TypeScript errors in docs package","description":"## Problem\n\nThe docs package has TypeScript errors blocking pre-commit hooks:\n\n```\nsrc/app/docs/[[...slug]]/page.tsx(13,24): error TS2339: Property 'body' does not exist on type 'PageData'.\nsrc/app/docs/[[...slug]]/page.tsx(16,28): error TS2339: Property 'toc' does not exist on type 'PageData'.\nsrc/app/docs/[[...slug]]/page.tsx(16,49): error TS2339: Property 'full' does not exist on type 'PageData'.\nsrc/lib/source.ts(22,36): error TS2339: Property 'getText' does not exist on type 'PageData'.\n```\n\n## Investigation\n\nThese errors exist on `feat/o0o-dev-infrastructure` branch where docs was added.\nThe fumadocs `InferPageType\u003ctypeof source\u003e` is not providing the expected properties.\n\n## Impact\n\n- Blocks git push with pre-commit hooks enabled\n- Other branches inheriting from infrastructure get blocked\n- Forces use of `--no-verify` to push\n\n## Next Steps\n\n1. Check fumadocs version/types\n2. Verify source configuration in `src/lib/source.ts`\n3. Update types or code to match fumadocs API\n4. Test typecheck passes in docs package","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T10:05:27.948278Z","updated_at":"2026-01-05T13:54:01.153024Z","closed_at":"2026-01-05T13:54:01.153024Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-d54","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T10:06:15.85263Z","created_by":"abuusama"}]}
{"id":"open-harness-ddr","title":"E5.1: Final - Error Propagation Validation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Error propagation validation.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:40.522957Z","updated_at":"2026-01-07T11:18:40.522957Z"}
{"id":"open-harness-e5v","title":"Set up changesets for versioning and releases","description":"Configure changesets for semantic versioning and changelog generation.\n\n## Tasks\n- [ ] Install @changesets/cli\n- [ ] Initialize changesets config\n- [ ] Add changeset workflow to CI\n- [ ] Document release process\n- [ ] Configure changelog format\n\n## Alternative\nCould use conventional-commits + standard-version instead. Decide which fits better.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:40:24.35971Z","updated_at":"2026-01-05T13:44:24.649944Z","closed_at":"2026-01-05T13:44:24.649944Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-e5v","depends_on_id":"open-harness-l5k","type":"blocks","created_at":"2026-01-05T09:02:39.832493Z","created_by":"abuusama"},{"issue_id":"open-harness-e5v","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T09:56:34.383983Z","created_by":"abuusama"}]}
{"id":"open-harness-emc","title":"E4.6: Framework - Testing Error Types + Result Utils","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Testing: Create error types + Result utils.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:39.963424Z","updated_at":"2026-01-07T11:18:39.963424Z"}
{"id":"open-harness-fd9","title":"E1.10: Transport - @open-harness/client Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/client: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:34.524092Z","updated_at":"2026-01-07T11:18:34.524092Z"}
{"id":"open-harness-frs","title":"E4.4: Framework - React Result Hooks Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: React: Test Result hooks.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:39.58321Z","updated_at":"2026-01-07T11:18:39.58321Z"}
{"id":"open-harness-hvc","title":"Configure package.json exports and type definitions","description":"Ensure package is properly configured for consumption.\n\n## Tasks\n- [ ] Add exports field with proper subpath exports\n- [ ] Add types field pointing to .d.ts\n- [ ] Add files field to whitelist published files\n- [ ] Add engines field (bun \u003e= 1.x)\n- [ ] Verify types work: tsc --noEmit on consumer\n- [ ] Test: bun link and import in test project\n\n## Example exports structure\n```json\n{\n  \"exports\": {\n    \".\": {\n      \"types\": \"./dist/index.d.ts\",\n      \"import\": \"./dist/index.js\"\n    }\n  }\n}\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:40:22.402777Z","updated_at":"2026-01-05T13:44:24.648248Z","closed_at":"2026-01-05T13:44:24.648248Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-hvc","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T09:56:34.175902Z","created_by":"abuusama"}]}
{"id":"open-harness-iez","title":"E5.4: Final - Full E2E Validation Suite","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Full E2E validation suite.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:41.073486Z","updated_at":"2026-01-07T11:18:41.073486Z"}
{"id":"open-harness-iky","title":"E4.3: Framework - React Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: React: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:39.393312Z","updated_at":"2026-01-07T11:18:39.393312Z"}
{"id":"open-harness-jnb","title":"Create auto-merge GitHub Action for low-risk PRs","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T08:14:31.570205Z","updated_at":"2026-01-05T08:14:31.570205Z","dependencies":[{"issue_id":"open-harness-jnb","depends_on_id":"open-harness-l5k","type":"blocks","created_at":"2026-01-05T09:02:41.922118Z","created_by":"abuusama"},{"issue_id":"open-harness-jnb","depends_on_id":"open-harness-by7","type":"parent-child","created_at":"2026-01-05T09:56:36.321016Z","created_by":"abuusama"}]}
{"id":"open-harness-k1x","title":"E1.8: Transport - @open-harness/client Documentation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/client: Document.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:34.168083Z","updated_at":"2026-01-07T11:18:34.168083Z"}
{"id":"open-harness-l5k","title":"Set up GitHub Actions CI/CD","description":"Configure GitHub Actions for automated quality checks.\n\n## Workflows needed\n- [ ] ci.yml - Run on PR and push to dev/master\n  - typecheck (turbo typecheck)\n  - lint (biome check)\n  - test (bun test)\n  - build (turbo build)\n- [ ] release.yml - Publish to npm on tag/release\n\n## Requirements\n- Cache bun dependencies\n- Run on ubuntu-latest\n- Matrix test if needed (bun versions)\n- Status checks required for PR merge","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:40:18.672268Z","updated_at":"2026-01-05T14:39:42.419606Z","closed_at":"2026-01-05T14:39:42.419606Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-l5k","depends_on_id":"open-harness-bhh","type":"blocks","created_at":"2026-01-05T09:02:39.733862Z","created_by":"abuusama"},{"issue_id":"open-harness-l5k","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T09:56:34.278691Z","created_by":"abuusama"}],"comments":[{"id":9,"issue_id":"open-harness-l5k","author":"abuusama","text":"Started work on release.yml npm publish step. Added publish job that triggers on version tags with NPM_TOKEN authentication.","created_at":"2026-01-05T14:36:02Z"},{"id":10,"issue_id":"open-harness-l5k","author":"abuusama","text":"PR created: https://github.com/Open-Harness/open-harness/pull/90\n\nChanges made:\n- Added tag trigger (v*) to release workflow\n- Added publish job that runs on version tags\n- Configured NPM_TOKEN authentication\n- Uses changeset:publish script for automated publishing\n- Only publishes after release job completes successfully\n\nAll quality gates passed (lint, typecheck, test, build).","created_at":"2026-01-05T14:39:37Z"},{"id":11,"issue_id":"open-harness-l5k","author":"abuusama","text":"Fixed critical logic error from code review:\n\nIssue: publish job had 'needs: release' but conflicting conditions prevented execution:\n- publish runs only on tags (refs/tags/v*)\n- release runs only on master pushes (refs/heads/master)\n- When tag is pushed, release job is skipped â†’ publish job also skipped\n\nFix: Removed 'needs: release' dependency\n- release and publish are independent operations\n- release creates version PRs on master pushes\n- publish publishes to npm on tag pushes\n- publish can now run standalone when tags are created\n\nCommit: e38c713","created_at":"2026-01-05T14:57:54Z"}]}
{"id":"open-harness-l90","title":"E3.12: Server - Epic 3 Final Validation \u0026 Hand-off","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Epic 3 final validation \u0026 hand-off.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:38.805201Z","updated_at":"2026-01-07T11:18:38.805201Z"}
{"id":"open-harness-m5q","title":"E3.2: Server - @internal/server Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/server: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:36.826311Z","updated_at":"2026-01-07T11:18:36.826311Z"}
{"id":"open-harness-n19","title":"Rename packages/kernel to packages/sdk","description":"Rename the kernel package to sdk for clearer naming.\n\n## Tasks\n- [ ] Rename directory: packages/kernel â†’ packages/sdk\n- [ ] Update package.json name: @open-harness/kernel â†’ @open-harness/sdk\n- [ ] Update all internal imports\n- [ ] Update CLAUDE.md references\n- [ ] Update docs references\n- [ ] Update turbo.json if needed\n- [ ] Run typecheck and tests\n\n## Rationale\n'SDK' is clearer for external consumers than 'kernel'. This rename should happen BEFORE the docs terminology cleanup (#67) to avoid double work.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:38:06.632109Z","updated_at":"2026-01-05T08:35:47.312973Z","closed_at":"2026-01-05T08:35:47.312973Z"}
{"id":"open-harness-n3f","title":"E1.7: Transport - @open-harness/client Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/client: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.990243Z","updated_at":"2026-01-07T11:18:33.990243Z"}
{"id":"open-harness-n5t","title":"Implement unified flow execution API with createHarness()","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T14:28:27.36977Z","updated_at":"2026-01-05T14:30:16.786417Z","closed_at":"2026-01-05T14:30:16.786417Z","close_reason":"Closed","comments":[{"id":12,"issue_id":"open-harness-n5t","author":"abuusama","text":"## Implementation Summary\n\n### Problem\nPreviously, users had to manually wire together Runtime, NodeRegistry, WebSocketTransport, and event handlers - lots of boilerplate code.\n\n### Solution\nImplemented unified flow execution API with two simple entry points:\n\n1. **runFlow()** - Simplest possible API for one-shot runs\n   - Auto-wires everything with smart defaults\n   - Auto-cleanup on completion\n   \n2. **createHarness()** - Full control with minimal boilerplate\n   - Exposes runtime and transport for advanced use\n   - Optional event handler, registry, store, transport config\n\n### Files Added\n- packages/sdk/src/harness/harness.ts - main implementation\n- packages/sdk/tests/integration/harness.test.ts - 8 tests, all passing  \n- packages/sdk/examples/harness-example.ts - usage examples\n- packages/sdk/src/index.ts - updated exports\n\n### Tests\nAll 8 harness tests passing:\n- createHarness with defaults âœ“\n- createHarness exposes primitives âœ“\n- createHarness with event handler âœ“\n- createDefaultRegistry includes standard nodes âœ“\n- runFlow convenience function âœ“\n- runFlow with input âœ“\n- runFlow with event handler âœ“\n- createHarness with WebSocket transport âœ“","created_at":"2026-01-05T14:28:49Z"}]}
{"id":"open-harness-nsg","title":"E5.3: Final - Migration Guide","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Migration guide.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:40.891556Z","updated_at":"2026-01-07T11:18:40.891556Z"}
{"id":"open-harness-nu9","title":"Pattern: Iteration loop with conditional feedback","description":"Test/example: Coder â†’ Reviewer loop. Proves $first, $iteration, conditional inclusion of feedback, when clause with missing data.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T19:25:24.975132Z","updated_at":"2026-01-04T20:47:45.230179Z","closed_at":"2026-01-04T19:55:36.988437Z","dependencies":[{"issue_id":"open-harness-nu9","depends_on_id":"open-harness-ox5","type":"blocks","created_at":"2026-01-04T19:25:45.408001Z","created_by":"abuusama"}]}
{"id":"open-harness-o0o","title":"Developer Infrastructure","description":"CI/CD, quality gates, and package configuration for the monorepo","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T09:00:45.327162Z","updated_at":"2026-01-05T16:01:49.904031Z","closed_at":"2026-01-05T16:01:49.904031Z","close_reason":"Closed"}
{"id":"open-harness-ox5","title":"Phase 1: Inject iteration context","description":"Add $iteration, $first, $last, $maxIterations to binding context in loop execution","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:11.086739Z","updated_at":"2026-01-04T20:47:45.230918Z","closed_at":"2026-01-04T19:54:40.588136Z","dependencies":[{"issue_id":"open-harness-ox5","depends_on_id":"open-harness-qhp","type":"blocks","created_at":"2026-01-04T19:02:46.473961Z","created_by":"abuusama"}]}
{"id":"open-harness-pc5","title":"E4.8: Framework - Epic 4 Final Validation \u0026 Hand-off","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Epic 4 final validation \u0026 hand-off.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:40.343961Z","updated_at":"2026-01-07T11:18:40.343961Z"}
{"id":"open-harness-q4z","title":"E1.9: Transport - @open-harness/client Result API Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/client: Test Result API.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:34.345435Z","updated_at":"2026-01-07T11:18:34.345435Z"}
{"id":"open-harness-q7c","title":"E2.6: Persistence - Testing Store Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Testing store: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:36.057254Z","updated_at":"2026-01-07T11:18:36.057254Z"}
{"id":"open-harness-qey","title":"E1.12: Transport - Epic 1 Final Validation \u0026 Hand-off","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Epic 1 final validation \u0026 hand-off.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:34.899806Z","updated_at":"2026-01-07T11:18:34.899806Z"}
{"id":"open-harness-qhp","title":"Phase 1: Update bindings.ts to use JSONata","description":"Replace custom path resolution with JSONata evaluator, maintain backward compat for simple paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:06.495184Z","updated_at":"2026-01-04T20:47:45.225526Z","closed_at":"2026-01-04T19:43:18.354587Z","dependencies":[{"issue_id":"open-harness-qhp","depends_on_id":"open-harness-8wj","type":"blocks","created_at":"2026-01-04T19:02:46.319184Z","created_by":"abuusama"}]}
{"id":"open-harness-s2h","title":"E1.6: Transport - @open-harness/client Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/client: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:33.807514Z","updated_at":"2026-01-07T11:18:33.807514Z"}
{"id":"open-harness-s4d","title":"E2.4: Persistence - SQLite Result API Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: SQLite: Test Result API.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:35.675132Z","updated_at":"2026-01-07T11:18:35.675132Z"}
{"id":"open-harness-sda","title":"E5.6: Final - Final Cleanup \u0026 Metadata Sync","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Final cleanup \u0026 metadata sync.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:41.462245Z","updated_at":"2026-01-07T11:18:41.462245Z"}
{"id":"open-harness-ug7","title":"E2.8: Persistence - Testing Store Docs, Tests, Validation","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Testing store: Document + tests + validate.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:36.427813Z","updated_at":"2026-01-07T11:18:36.427813Z"}
{"id":"open-harness-uo6","title":"E5.2: Final - Master SDK README","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Master SDK README.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:40.714238Z","updated_at":"2026-01-07T11:18:40.714238Z"}
{"id":"open-harness-uth","title":"E4.5: Framework - React Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: React: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:39.776043Z","updated_at":"2026-01-07T11:18:39.776043Z"}
{"id":"open-harness-uyq","title":"Exclude .beads/issues.jsonl from lefthook pre-commit","description":"## Problem\n\nThe .beads/issues.jsonl file causes branch switching conflicts because:\n1. It's constantly updated by `bd sync`\n2. Lefthook runs on it during pre-commit\n3. This creates unstaged changes that block branch switches\n\n## Current Behavior\n\n\n\n## Proposed Solution\n\nExclude .beads/issues.jsonl from lefthook in `.lintstagedrc.json`:\n\n```json\n{\n  \"*.{ts,tsx,js,jsx,json,md}\": \"biome check --write --no-errors-on-unmatched --files-ignore-unknown=true\",\n  \"!.beads/issues.jsonl\": []  // Exclude beads file\n}\n```\n\nOr in `lefthook.yml`:\n\n```yaml\npre-commit:\n  commands:\n    lint-staged:\n      exclude: '\\.beads/issues\\.jsonl$'\n```\n\n## Rationale\n\n- Beads manages issues.jsonl independently via `bd sync`\n- The file is committed to beads-sync branch, not feature branches\n- Running linters on it is unnecessary and causes conflicts\n- It's in a git worktree with its own sync workflow\n\n## Impact\n\n- Eliminates branch switching friction\n- Reduces \"sync before switch\" ceremony\n- Agents can switch branches more smoothly","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T10:13:49.698164Z","updated_at":"2026-01-05T13:54:01.109516Z","closed_at":"2026-01-05T13:54:01.109516Z","close_reason":"Closed","dependencies":[{"issue_id":"open-harness-uyq","depends_on_id":"open-harness-o0o","type":"parent-child","created_at":"2026-01-05T10:14:19.504622Z","created_by":"abuusama"}]}
{"id":"open-harness-v0s","title":"Phase 2: Update tests for JSONata expressions","description":"Rewrite bindings.test.ts, update when.test.ts, update loops.test.ts, create expressions.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:25.460727Z","updated_at":"2026-01-04T19:24:53.936608Z","closed_at":"2026-01-04T19:24:53.936608Z","dependencies":[{"issue_id":"open-harness-v0s","depends_on_id":"open-harness-qhp","type":"blocks","created_at":"2026-01-04T19:02:47.864592Z","created_by":"abuusama"},{"issue_id":"open-harness-v0s","depends_on_id":"open-harness-yrh","type":"blocks","created_at":"2026-01-04T19:02:47.942232Z","created_by":"abuusama"},{"issue_id":"open-harness-v0s","depends_on_id":"open-harness-ox5","type":"blocks","created_at":"2026-01-04T19:02:48.019611Z","created_by":"abuusama"}]}
{"id":"open-harness-war","title":"E3.7: Server - @open-harness/server Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/server: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:37.835897Z","updated_at":"2026-01-07T11:18:37.835897Z"}
{"id":"open-harness-wql","title":"E3.1: Server - @internal/server Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/server: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:36.631121Z","updated_at":"2026-01-07T11:18:36.631121Z"}
{"id":"open-harness-xi7","title":"E1.11: Transport - Integration Tests","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: Transport layer integration tests.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:34.708211Z","updated_at":"2026-01-07T11:18:34.708211Z"}
{"id":"open-harness-yij","title":"E3.6: Server - @open-harness/server Error Types","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @open-harness/server: Create error types.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:37.587747Z","updated_at":"2026-01-07T11:18:37.587747Z"}
{"id":"open-harness-yl8","title":"Create bd-work and bd-fork scripts for worktree workflow","description":"Create scripts to automate worktree creation with Ghostty integration.\n\n## Scripts to Create\n\n### scripts/bd-work.sh\n- Creates sibling worktree at ../worktrees/\u003cbead\u003e-\u003ccity\u003e\n- Opens new Ghostty tab via AppleScript\n- Sets tab title via OSC escape sequence\n- Runs bun install\n- Launches Claude with --dangerously-skip-permissions and initializer prompt\n- Auto-starts work immediately\n\n### scripts/bd-fork.sh  \n- Forks current worktree to new one\n- Naming: \u003cbead\u003e-\u003ccity\u003e-\u003cn\u003e (e.g., n19-tunis-2)\n- Same Ghostty/Claude automation\n\n### scripts/cities.txt\nHistorical Muslim world cities:\n- Al-Andalus: cordoba, granada, sevilla, toledo, malaga, zaragoza\n- Palestine: quds, gaza, nablus, khalil, jaffa, haifa, akka, ramallah\n- Arabian Peninsula: mecca, medina, jeddah, sanaa, muscat, aden\n- Historic: baghdad, damascus, cairo, fez, marrakech, tunis, kairouan, samarkand, bukhara, isfahan\n\n## Directory Structure\n```\nprojects/open-harness/\nâ”œâ”€â”€ open-harness/           # Main repo\nâ”‚   â””â”€â”€ scripts/\nâ”‚       â”œâ”€â”€ bd-work.sh\nâ”‚       â”œâ”€â”€ bd-fork.sh\nâ”‚       â””â”€â”€ cities.txt\nâ””â”€â”€ worktrees/              # All worktrees (sibling dir)\n    â”œâ”€â”€ n19-granada/\n    â””â”€â”€ 1wp-quds/\n```\n\n## Claude Invocation\n```bash\nclaude --dangerously-skip-permissions \"Working on bead: ${BEAD_ID}\n...initializer prompt...\"\n```\n\n## Technical Details\n- Ghostty new tab: AppleScript via System Events\n- Tab title: printf '\\e]0;\u003cname\u003e\\a'\n- Verify claude CLI accepts prompt as argument","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T08:23:34.186454Z","updated_at":"2026-01-05T08:23:34.186454Z","dependencies":[{"issue_id":"open-harness-yl8","depends_on_id":"open-harness-by7","type":"parent-child","created_at":"2026-01-05T09:56:36.213471Z","created_by":"abuusama"}]}
{"id":"open-harness-yrh","title":"Phase 1: Update when clause evaluation","description":"Support expression string syntax in when clauses alongside existing YAML AST","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T19:02:08.215691Z","updated_at":"2026-01-04T20:47:45.222549Z","closed_at":"2026-01-04T19:48:02.664737Z","dependencies":[{"issue_id":"open-harness-yrh","depends_on_id":"open-harness-8wj","type":"blocks","created_at":"2026-01-04T19:02:46.397542Z","created_by":"abuusama"}]}
{"id":"open-harness-zl4","title":"E2.2: Persistence - SQLite Result Methods","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: SQLite: Add Result methods.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:35.298574Z","updated_at":"2026-01-07T11:18:35.298574Z"}
{"id":"open-harness-zu1","title":"E3.5: Server - @internal/server Validation \u0026 Commit","description":"Task from .factory/EPIC_DEPENDENCY_MATRIX.md: @internal/server: Validate \u0026 commit.\nFollow .factory/BEAD_HANDOFF_TEMPLATE.md for full hand-off structure when executing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:18:37.405008Z","updated_at":"2026-01-07T11:18:37.405008Z"}
