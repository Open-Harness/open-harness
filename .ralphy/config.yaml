# Ralphy Configuration
# Project: Effect Workflow System (core-v2)
# Generated: 2026-01-21

project:
  name: "Effect Workflow System"
  root: "."
  feature_id: "001-effect-refactor"

# Reference documents
references:
  spec: "specs/001-effect-refactor/spec.md"
  plan: "specs/001-effect-refactor/plan.md"
  tasks: "specs/001-effect-refactor/tasks.md"
  contracts: "specs/001-effect-refactor/contracts/"
  quickstart: "specs/001-effect-refactor/quickstart.md"
  data_model: "specs/001-effect-refactor/data-model.md"

# Quality gates - run before marking tasks complete
gates:
  typecheck:
    command: "bun run typecheck"
    expect: "zero errors"
    required: true
  lint:
    command: "bun run lint"
    expect: "zero errors"
    required: true
  test:
    command: "bun run test"
    expect: "all tests pass"
    required: false  # May not have tests yet

# Rules from constitution
rules:
  must:
    - "No direct state mutation (event sourcing)"
    - "Pure handlers only (no side effects)"
    - "Zero Effect types in public API"
    - "Explicit verification commands"
    - "No mock fixtures for integration tests"
    - "No console.log/error/warn"
    - "outputSchema required for all agents"
  should:
    - "Reference spec FR-XXX requirements"
    - "Include CONTEXT section in task details"
    - "Atomic tasks (completable in one session)"
    - "Clear success criteria"

# Execution settings
execution:
  max_parallel: 3
  stop_on_failure: true
  checkpoint_after_phase: true

# Archive settings
archive:
  enabled: true
  directory: ".ralphy/archive"
  include_progress: true
