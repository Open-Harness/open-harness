audit_date: "2026-01-11T13:30:00Z"
version: "v0.3.0"
branch: "feat/v030-signals"
auditor: "claude-opus-4-5"

summary:
  examples_passing: 5/6  # recording-replay has type issues
  readmes_valid: 5/6     # speckit/level-2/README.md uses legacy API
  fixtures_current: true
  feature_coverage: 85%
  signal_naming: FAIL    # 4 files with legacy provider:* names
  overall_status: BLOCKING_ISSUES

examples:
  - name: "simple-reactive"
    status: pass
    build: N/A  # No build script
    runs: untested
    api_version: v0.3.0
    issues: []

  - name: "multi-provider"
    status: pass
    build: N/A
    runs: untested
    api_version: v0.3.0
    issues:
      - "Uses 'Provider' in console.log labels (cosmetic)"

  - name: "recording-replay"
    status: FAIL
    build: N/A
    runs: untested
    api_version: mixed
    issues:
      - "BLOCKING: Line 165-166 uses snap.provider.text and snap.provider.running which don't exist on Snapshot type"
      - "Player snapshot API changed but example not updated"

  - name: "testing-signals"
    status: pass
    build: N/A
    runs: untested
    api_version: v0.3.0
    issues: []

  - name: "trading-agent"
    status: pass
    build: N/A
    runs: untested
    api_version: v0.3.0
    issues: []

  - name: "speckit"
    status: pass
    build: pass  # Has typecheck script
    runs: untested
    api_version: v0.3.0
    issues: []

readme_issues:
  - file: "examples/speckit/level-2/README.md"
    lines: "31, 35"
    issue: "BLOCKING: Uses setDefaultProvider and createClaudeNode - legacy API"
    fix: "Replace with setDefaultHarness and ClaudeHarness"

  - file: "examples/testing-signals/README.md"
    line: 176
    issue: "Uses 'provider: failingProvider' - should be 'harness: failingHarness'"
    severity: medium

  - file: "packages/internal/core/src/api/debug.ts"
    lines: "123-129"
    issue: "Comment diagram shows provider:start/provider:end instead of harness:start/harness:end"
    severity: low

legacy_signal_names:
  status: FAIL
  files_with_provider:
    - path: "packages/internal/signals/tests/metrics-reporter.test.ts"
      lines: [63, 84]
      issue: "Test references 'provider:end' in comments"

    - path: "packages/open-harness/vitest/src/matchers.ts"
      line: 242
      issue: "JSDoc comment references 'provider:end'"

    - path: "packages/open-harness/vitest/src/types.ts"
      line: 83
      issue: "JSDoc comment references 'provider:end'"

    - path: "packages/internal/core/src/api/debug.ts"
      lines: [123, 125, 128, 129]
      issue: "Comment diagram uses provider:start/provider:end"

fixture_status:
  last_updated: "2026-01-11"
  freshness: "Excellent - all fixtures updated within 2 days"

  locations:
    - path: "packages/adapters/harnesses/claude/tests/fixtures/"
      count: 4
      last_modified: "2026-01-11"

    - path: "packages/adapters/harnesses/openai/tests/fixtures/"
      count: 4
      last_modified: "2026-01-11"

    - path: "examples/speckit/fixtures/"
      count: 15+
      last_modified: "2026-01-09"

    - path: "packages/open-harness/core/tests/fixtures/"
      count: 2
      last_modified: "varies"

  missing_recordings:
    - "examples/simple-reactive - no fixtures"
    - "examples/multi-provider - no fixtures"
    - "examples/trading-agent - no fixtures"
    - "examples/testing-signals - uses mocks"

  stale_recordings: []

feature_coverage:
  createWorkflow:
    documented: true
    example: "all examples"
    test: true
    recording: "speckit"

  agent_activateOn:
    documented: true
    example: "simple-reactive"
    test: true
    recording: "speckit"

  runReactive:
    documented: true
    example: "all examples"
    test: true
    recording: "speckit"

  signal_chaining:
    documented: true
    example: "simple-reactive"
    test: true
    recording: "speckit"

  state_updates:
    documented: true
    example: "simple-reactive"
    test: true
    recording: "speckit"

  multi_agent_workflows:
    documented: true
    example: "trading-agent"
    test: true
    recording: "speckit"

  recording_mode:
    documented: true
    example: "recording-replay (broken)"
    test: true
    recording: "speckit"

  replay_mode:
    documented: true
    example: "recording-replay (broken)"
    test: true
    recording: "speckit"

  ClaudeHarness:
    documented: true
    example: "all examples"
    test: true
    recording: true

  CodexHarness:
    documented: true
    example: "multi-provider"
    test: true
    recording: true

  structured_output:
    documented: partial
    example: "speckit level-6+"
    test: true
    recording: true

  tool_use_signals:
    documented: partial
    example: "trading-agent"
    test: true
    recording: partial

  error_handling:
    documented: true
    example: "testing-signals"
    test: true
    recording: false

  abort_cancellation:
    documented: partial
    example: none
    test: partial
    recording: false

api_surface:
  verified_exports:
    - createWorkflow
    - ClaudeHarness
    - CodexHarness
    - MemorySignalStore
    - runReactive
    - Player
    - SignalBus
    - setDefaultHarness
    - setDefaultStore
    - setDefaultMode

  missing_from_docs:
    - "setDefaultHarness not in README examples (uses harness prop instead)"

  internal_leaks: []

blocking_issues:
  - id: BLOCK-001
    severity: critical
    file: "examples/recording-replay/index.ts"
    lines: "165-166"
    description: "Player snapshot API uses non-existent snap.provider property"
    fix: "Update to use correct Snapshot API for v0.3.0"

  - id: BLOCK-002
    severity: critical
    file: "examples/speckit/level-2/README.md"
    lines: "31, 35"
    description: "Documents setDefaultProvider which doesn't exist"
    fix: "Replace with setDefaultHarness(new ClaudeHarness())"

  - id: BLOCK-003
    severity: critical
    category: signal_naming
    description: "4 files still reference provider:* signals instead of harness:*"
    files:
      - "packages/internal/signals/tests/metrics-reporter.test.ts"
      - "packages/open-harness/vitest/src/matchers.ts"
      - "packages/open-harness/vitest/src/types.ts"
      - "packages/internal/core/src/api/debug.ts"
    fix: "Update all references to use harness:* naming"

warnings:
  - id: WARN-001
    file: "examples/testing-signals/README.md"
    line: 176
    description: "Example uses 'provider:' key - may need to be 'harness:'"

  - id: WARN-002
    category: coverage
    description: "Examples simple-reactive, multi-provider, trading-agent have no recording fixtures"

recommendations:
  - priority: P0
    action: "Fix recording-replay example to use correct Snapshot API"

  - priority: P0
    action: "Update speckit/level-2/README.md to use v0.3.0 API"

  - priority: P0
    action: "Rename all provider:* signal references to harness:*"

  - priority: P1
    action: "Add typecheck scripts to examples that lack them"

  - priority: P2
    action: "Record fixtures for remaining examples"

  - priority: P2
    action: "Document abort/cancellation patterns"

quality_gates:
  must_pass_before_pr:
    - name: "All 6 examples build and run"
      status: FAIL
      blocker: BLOCK-001

    - name: "All README code blocks compile"
      status: FAIL
      blocker: BLOCK-002

    - name: "Zero provider:* signal references"
      status: FAIL
      blocker: BLOCK-003

    - name: "All harness fixtures < 30 days old"
      status: PASS

    - name: "Feature matrix > 80% coverage"
      status: PASS

  should_fix:
    - name: "All examples have recordings"
      status: FAIL

    - name: "API docs match implementation"
      status: PASS

    - name: "No console warnings during example runs"
      status: UNTESTED
