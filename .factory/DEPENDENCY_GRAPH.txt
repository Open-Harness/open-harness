# Visual Dependency Graph: 46-Bead Refactoring Initiative

Generated: 2026-01-07
For: Epic planning and agent hand-off

═══════════════════════════════════════════════════════════════════════════════

FOUNDATION (Already Complete ✅)
═════════════════════════════════════════════════════════════════════════════

                          open-harness-9mq (COMPLETE ✅)
                    ┌──────────────────────────────────────┐
                    │  Runtime Core Refactoring (14 beads) │
                    │  ✅ 4 Subsystems organized          │
                    │  ✅ Error handling layer added      │
                    │  ✅ 101 tests covering all paths    │
                    │  ✅ 8 comprehensive READMEs        │
                    │  ✅ Pushed to remote                │
                    └────────────────┬─────────────────────┘
                                     │
                                     │ All 46 remaining beads depend on this
                                     │
                    ┌────────────────┴─────────────────────┐
                    │                                      │
                    ▼                                      ▼
              EPIC 1 (12 beads)                      EPIC 2 (8 beads)
         Transport Layer Ready                   Persistence Ready
         (Can start immediately)                (Can start immediately)
         [CRITICAL PATH]                        [CRITICAL PATH]


EPIC 1: TRANSPORT LAYER (12 beads)
═════════════════════════════════════════════════════════════════════════════

    1.1: @internal/client errors
        └─ 1.2: @internal/client Result methods
            ├─ 1.3: @internal/client docs
            │   └─ 1.4: @internal/client tests
            │       └─ 1.5: Validate & commit ─────────────┐
            │                                               │
            └─ 1.6: @open-harness/client errors ◄──────────┘
                └─ 1.7: @open-harness/client Result methods
                    ├─ 1.8: @open-harness/client docs
                    │   └─ 1.9: @open-harness/client tests
                    │       └─ 1.10: Validate & commit ────┐
                    │                                       │
                    └─ 1.11: Integration tests ◄────────────┘
                        └─ 1.12: Epic 1 complete


EPIC 2: PERSISTENCE LAYER (8 beads)
═════════════════════════════════════════════════════════════════════════════

    2.1: adapters/run-store/sqlite errors
        └─ 2.2: adapters/run-store/sqlite Result methods
            ├─ 2.3: adapters/run-store/sqlite docs
            │   └─ 2.4: adapters/run-store/sqlite tests
            │       └─ 2.5: Validate & commit ────────────┐
            │                                              │
            └─ 2.6: adapters/run-store/testing errors ◄───┘
                └─ 2.7: adapters/run-store/testing Result methods
                    └─ 2.8: Testing + validate + commit


PARALLELIZATION POINT 1: E1 and E2 can run in parallel
═════════════════════════════════════════════════════════════════════════════

             E1.5 (DONE) ┐                  E2.5 (DONE) ┐
                         │                               │
                         └─────┬───────────┬─────────────┘
                                │           │
                         BOTH REQUIRED FOR E3
                                │           │
                                ▼           ▼
            ┌─────────────────────────────────────────────┐
            │   WAIT HERE: Both E1 + E2 must complete     │
            │   E1.12 done AND E2.8 done BEFORE E3 starts│
            └────────────────┬────────────────────────────┘
                             │


EPIC 3: SERVER INTEGRATION (12 beads)
═════════════════════════════════════════════════════════════════════════════

    3.1: @internal/server errors
        └─ 3.2: @internal/server Result methods
            ├─ 3.3: @internal/server docs
            │   └─ 3.4: @internal/server tests
            │       └─ 3.5: Validate & commit ────────────┐
            │                                              │
            └─ 3.6: @open-harness/server errors ◄─────────┘
                └─ 3.7: @open-harness/server Result methods
                    ├─ 3.8: @open-harness/server docs
                    │   └─ 3.9: @open-harness/server tests
                    │       └─ 3.10: Validate & commit ───┐
                    │                                       │
                    └─ 3.11: Integration E1+E2 ◄──────────┘
                        └─ 3.12: Epic 3 complete


PARALLELIZATION POINT 2: Must wait for E3
═════════════════════════════════════════════════════════════════════════════

                       E3.12 (DONE)
                            │
                            │ E3 must be complete before E4
                            │
                            ▼
            ┌──────────────────────────────┐
            │   WAIT HERE: E3 must finish   │
            │   before Epic 4 can start     │
            └────────────┬─────────────────┘
                         │


EPIC 4: FRAMEWORK INTEGRATION (8 beads)
═════════════════════════════════════════════════════════════════════════════

    4.1: @open-harness/react errors
        └─ 4.2: @open-harness/react Result hooks
            ├─ 4.3: @open-harness/react docs
            │   └─ 4.4: @open-harness/react tests
            │       └─ 4.5: Validate & commit ────────────┐
            │                                              │
            └─ 4.6: @open-harness/testing errors ◄────────┘
                └─ 4.7: @open-harness/testing Result utils
                    └─ 4.8: Epic 4 complete


PARALLELIZATION POINT 3: Must wait for E4
═════════════════════════════════════════════════════════════════════════════

                       E4.8 (DONE)
                            │
                            │ E4 must be complete before E5
                            │
                            ▼
            ┌──────────────────────────────┐
            │   WAIT HERE: E4 must finish   │
            │   before Epic 5 can start     │
            └────────────┬─────────────────┘
                         │


EPIC 5: FINAL PASS & VALIDATION (6 beads)
═════════════════════════════════════════════════════════════════════════════

    5.1: Error propagation validation
        └─ 5.2: Master SDK documentation
            └─ 5.3: Migration guide
                └─ 5.4: Full E2E validation suite
                    └─ 5.5: Performance validation
                        └─ 5.6: Final cleanup & push
                            └─ COMPLETE ✅


═══════════════════════════════════════════════════════════════════════════════
CRITICAL PATH ANALYSIS
═════════════════════════════════════════════════════════════════════════════

Path: open-harness-9mq → E1 → E3 → E4 → E5
Duration: 6 weeks minimum (no parallelization possible)

Safe Parallelization:
- E1 and E2 can run simultaneously (weeks 1-2)
- Saves ~1-2 weeks over pure sequential approach

Unsafe Parallelization:
- Starting E3 before E1.12 AND E2.8 both done → BLOCKS
- Starting E4 before E3.12 done → BLOCKS
- Starting E5 before E4.8 done → BLOCKS


═════════════════════════════════════════════════════════════════════════════
BEAD DEPENDENCY MATRIX (Quick Reference)
═════════════════════════════════════════════════════════════════════════════

Bead  │ Depends On      │ Blocks          │ Team Size │ Effort
──────┼─────────────────┼─────────────────┼───────────┼────────
1.1   │ open-harness-9m │ 1.2             │ 1         │ 4h
1.2   │ 1.1             │ 1.3             │ 1         │ 6h
1.3   │ 1.2             │ 1.4             │ 1         │ 4h
1.4   │ 1.3             │ 1.5             │ 1         │ 6h
1.5   │ 1.4             │ 1.6, E3.start   │ 1         │ 2h
1.6   │ 1.5             │ 1.7             │ 1         │ 3h
1.7   │ 1.6             │ 1.8             │ 1         │ 5h
1.8   │ 1.7             │ 1.9             │ 1         │ 4h
1.9   │ 1.8             │ 1.10            │ 1         │ 6h
1.10  │ 1.9             │ 1.11            │ 1         │ 2h
1.11  │ 1.10 + E2.8     │ 1.12            │ 1         │ 4h
1.12  │ 1.11            │ Complete        │ 1         │ 2h

2.1   │ open-harness-9m │ 2.2             │ 1         │ 3h
2.2   │ 2.1             │ 2.3             │ 1         │ 5h
2.3   │ 2.2             │ 2.4             │ 1         │ 4h
2.4   │ 2.3             │ 2.5             │ 1         │ 5h
2.5   │ 2.4             │ 2.6, E3.start   │ 1         │ 2h
2.6   │ 2.5             │ 2.7             │ 1         │ 2h
2.7   │ 2.6             │ 2.8             │ 1         │ 3h
2.8   │ 2.7             │ Complete        │ 1         │ 6h

3.1   │ E1 + E2 done    │ 3.2             │ 1         │ 4h
3.2   │ 3.1             │ 3.3             │ 1         │ 7h
3.3   │ 3.2             │ 3.4             │ 1         │ 4h
3.4   │ 3.3             │ 3.5             │ 1         │ 7h
3.5   │ 3.4             │ 3.6, E4.start   │ 1         │ 2h
3.6   │ 3.5             │ 3.7             │ 1         │ 3h
3.7   │ 3.6             │ 3.8             │ 1         │ 8h
3.8   │ 3.7             │ 3.9             │ 1         │ 5h
3.9   │ 3.8             │ 3.10            │ 1         │ 8h
3.10  │ 3.9             │ 3.11            │ 1         │ 2h
3.11  │ 3.10            │ 3.12            │ 1         │ 5h
3.12  │ 3.11            │ Complete        │ 1         │ 2h

4.1   │ E3 done         │ 4.2             │ 1         │ 3h
4.2   │ 4.1             │ 4.3             │ 1         │ 6h
4.3   │ 4.2             │ 4.4             │ 1         │ 4h
4.4   │ 4.3             │ 4.5             │ 1         │ 6h
4.5   │ 4.4             │ 4.6             │ 1         │ 2h
4.6   │ 4.5             │ 4.7             │ 1         │ 4h
4.7   │ 4.6             │ 4.8             │ 1         │ 6h
4.8   │ 4.7             │ E5.start        │ 1         │ 2h

5.1   │ E4 done         │ 5.2             │ 1         │ 6h
5.2   │ 5.1             │ 5.3             │ 1         │ 5h
5.3   │ 5.2             │ 5.4             │ 1         │ 4h
5.4   │ 5.3             │ 5.5             │ 1         │ 8h
5.5   │ 5.4             │ 5.6             │ 1         │ 4h
5.6   │ 5.5             │ Complete        │ 1         │ 2h


═════════════════════════════════════════════════════════════════════════════
LEGEND
═════════════════════════════════════════════════════════════════════════════

✅ = Complete, no blockers
→  = Depends on (must wait for)
◄  = Unblocked by (ready to start)
│  = Sequential dependency (ordered)
├─ = Parallel path (can overlap slightly)
└─ = Final dependency (last in chain)

E1 = Epic 1 (Transport Layer)
E2 = Epic 2 (Persistence Layer)
E3 = Epic 3 (Server Integration)
E4 = Epic 4 (Framework Integration)
E5 = Epic 5 (Final Pass & Validation)
